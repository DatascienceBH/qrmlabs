<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>3 Formatting, Describing, and Visualizing Data | Lab Guide to Quantitative Research Methods in Political Science, Public Policy &amp; Public Administration</title>
  <meta name="description" content="3 Formatting, Describing, and Visualizing Data | Lab Guide to Quantitative Research Methods in Political Science, Public Policy &amp; Public Administration" />
  <meta name="generator" content="bookdown 0.12 and GitBook 2.6.7" />

  <meta property="og:title" content="3 Formatting, Describing, and Visualizing Data | Lab Guide to Quantitative Research Methods in Political Science, Public Policy &amp; Public Administration" />
  <meta property="og:type" content="book" />
  
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="3 Formatting, Describing, and Visualizing Data | Lab Guide to Quantitative Research Methods in Political Science, Public Policy &amp; Public Administration" />
  
  
  

<meta name="author" content="Joseph Ripberger, Cody Adams, Alex Davis, and Josie Davis" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="basics-of-r.html">
<link rel="next" href="visualizing-data-probability-the-normal-distribution-and-z-scores.html">
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />







<script src="libs/htmlwidgets-1.3/htmlwidgets.js"></script>
<script src="libs/plotly-binding-4.9.0/plotly.js"></script>
<script src="libs/typedarray-0.1/typedarray.min.js"></script>
<link href="libs/crosstalk-1.0.0/css/crosstalk.css" rel="stylesheet" />
<script src="libs/crosstalk-1.0.0/js/crosstalk.min.js"></script>
<link href="libs/plotly-htmlwidgets-css-1.46.1/plotly-htmlwidgets.css" rel="stylesheet" />
<script src="libs/plotly-main-1.46.1/plotly-latest.min.js"></script>


<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(data-line-number);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Preface</a><ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#acknowledgments"><i class="fa fa-check"></i>Acknowledgments</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#requirements"><i class="fa fa-check"></i>Requirements</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#copyright"><i class="fa fa-check"></i>Copyright</a></li>
</ul></li>
<li class="chapter" data-level="1" data-path="introduction-to-r-rstudio-and-r-markdown.html"><a href="introduction-to-r-rstudio-and-r-markdown.html"><i class="fa fa-check"></i><b>1</b> Introduction to R, RStudio, and R Markdown</a><ul>
<li class="chapter" data-level="1.1" data-path="introduction-to-r-rstudio-and-r-markdown.html"><a href="introduction-to-r-rstudio-and-r-markdown.html#introduction-to-r-the-language"><i class="fa fa-check"></i><b>1.1</b> Introduction to R, the language</a><ul>
<li class="chapter" data-level="1.1.1" data-path="introduction-to-r-rstudio-and-r-markdown.html"><a href="introduction-to-r-rstudio-and-r-markdown.html#benefits-of-r"><i class="fa fa-check"></i><b>1.1.1</b> Benefits of R</a></li>
<li class="chapter" data-level="1.1.2" data-path="introduction-to-r-rstudio-and-r-markdown.html"><a href="introduction-to-r-rstudio-and-r-markdown.html#packages"><i class="fa fa-check"></i><b>1.1.2</b> Packages</a></li>
</ul></li>
<li class="chapter" data-level="1.2" data-path="introduction-to-r-rstudio-and-r-markdown.html"><a href="introduction-to-r-rstudio-and-r-markdown.html#rsudio"><i class="fa fa-check"></i><b>1.2</b> RSudio</a><ul>
<li class="chapter" data-level="1.2.1" data-path="introduction-to-r-rstudio-and-r-markdown.html"><a href="introduction-to-r-rstudio-and-r-markdown.html#navigating-rstudio"><i class="fa fa-check"></i><b>1.2.1</b> Navigating RStudio</a></li>
</ul></li>
<li class="chapter" data-level="1.3" data-path="introduction-to-r-rstudio-and-r-markdown.html"><a href="introduction-to-r-rstudio-and-r-markdown.html#r-markdown"><i class="fa fa-check"></i><b>1.3</b> R Markdown</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="basics-of-r.html"><a href="basics-of-r.html"><i class="fa fa-check"></i><b>2</b> Basics of R</a><ul>
<li class="chapter" data-level="2.1" data-path="basics-of-r.html"><a href="basics-of-r.html#r-as-a-calculator"><i class="fa fa-check"></i><b>2.1</b> R, as a Calculator</a><ul>
<li class="chapter" data-level="2.1.1" data-path="basics-of-r.html"><a href="basics-of-r.html#order-of-operations"><i class="fa fa-check"></i><b>2.1.1</b> Order of Operations</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="basics-of-r.html"><a href="basics-of-r.html#objects"><i class="fa fa-check"></i><b>2.2</b> Objects</a></li>
<li class="chapter" data-level="2.3" data-path="basics-of-r.html"><a href="basics-of-r.html#functions"><i class="fa fa-check"></i><b>2.3</b> Functions</a><ul>
<li class="chapter" data-level="2.3.1" data-path="basics-of-r.html"><a href="basics-of-r.html#object-types"><i class="fa fa-check"></i><b>2.3.1</b> Object Types</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="basics-of-r.html"><a href="basics-of-r.html#packages-1"><i class="fa fa-check"></i><b>2.4</b> Packages</a><ul>
<li class="chapter" data-level="2.4.1" data-path="basics-of-r.html"><a href="basics-of-r.html#installing-packages"><i class="fa fa-check"></i><b>2.4.1</b> Installing Packages</a></li>
<li class="chapter" data-level="2.4.2" data-path="basics-of-r.html"><a href="basics-of-r.html#loading-packages"><i class="fa fa-check"></i><b>2.4.2</b> Loading Packages</a></li>
<li class="chapter" data-level="2.4.3" data-path="basics-of-r.html"><a href="basics-of-r.html#updating-packages"><i class="fa fa-check"></i><b>2.4.3</b> Updating Packages</a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="basics-of-r.html"><a href="basics-of-r.html#r-help"><i class="fa fa-check"></i><b>2.5</b> R Help</a></li>
<li class="chapter" data-level="2.6" data-path="basics-of-r.html"><a href="basics-of-r.html#setting-a-working-directory"><i class="fa fa-check"></i><b>2.6</b> Setting a Working Directory</a></li>
<li class="chapter" data-level="2.7" data-path="basics-of-r.html"><a href="basics-of-r.html#importing-your-data"><i class="fa fa-check"></i><b>2.7</b> Importing Your Data</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="formatting-describing-and-visualizing-data.html"><a href="formatting-describing-and-visualizing-data.html"><i class="fa fa-check"></i><b>3</b> Formatting, Describing, and Visualizing Data</a><ul>
<li class="chapter" data-level="3.1" data-path="formatting-describing-and-visualizing-data.html"><a href="formatting-describing-and-visualizing-data.html#factoring"><i class="fa fa-check"></i><b>3.1</b> Factoring</a><ul>
<li class="chapter" data-level="3.1.1" data-path="formatting-describing-and-visualizing-data.html"><a href="formatting-describing-and-visualizing-data.html#coerce-factoring"><i class="fa fa-check"></i><b>3.1.1</b> Coerce Factoring</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="formatting-describing-and-visualizing-data.html"><a href="formatting-describing-and-visualizing-data.html#recoding"><i class="fa fa-check"></i><b>3.2</b> Recoding</a><ul>
<li class="chapter" data-level="3.2.1" data-path="formatting-describing-and-visualizing-data.html"><a href="formatting-describing-and-visualizing-data.html#factoring-and-recoding"><i class="fa fa-check"></i><b>3.2.1</b> Factoring and Recoding</a></li>
<li class="chapter" data-level="3.2.2" data-path="formatting-describing-and-visualizing-data.html"><a href="formatting-describing-and-visualizing-data.html#creating-a-dummy-variable"><i class="fa fa-check"></i><b>3.2.2</b> Creating a Dummy Variable</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="formatting-describing-and-visualizing-data.html"><a href="formatting-describing-and-visualizing-data.html#part-iii-building-and-sorting-your-data"><i class="fa fa-check"></i><b>3.3</b> Part III: Building and Sorting Your Data</a><ul>
<li class="chapter" data-level="3.3.1" data-path="formatting-describing-and-visualizing-data.html"><a href="formatting-describing-and-visualizing-data.html#the-tidyverse"><i class="fa fa-check"></i><b>3.3.1</b> The Tidyverse</a></li>
<li class="chapter" data-level="3.3.2" data-path="formatting-describing-and-visualizing-data.html"><a href="formatting-describing-and-visualizing-data.html#other-methods-of-exploring-your-data"><i class="fa fa-check"></i><b>3.3.2</b> Other Methods of Exploring Your Data</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="formatting-describing-and-visualizing-data.html"><a href="formatting-describing-and-visualizing-data.html#working-with-nominal-data"><i class="fa fa-check"></i><b>3.4</b> Working with Nominal Data</a><ul>
<li class="chapter" data-level="3.4.1" data-path="formatting-describing-and-visualizing-data.html"><a href="formatting-describing-and-visualizing-data.html#finding-the-mode"><i class="fa fa-check"></i><b>3.4.1</b> Finding the Mode</a></li>
<li class="chapter" data-level="3.4.2" data-path="formatting-describing-and-visualizing-data.html"><a href="formatting-describing-and-visualizing-data.html#visualizing-nominal-data"><i class="fa fa-check"></i><b>3.4.2</b> Visualizing Nominal Data</a></li>
</ul></li>
<li class="chapter" data-level="3.5" data-path="formatting-describing-and-visualizing-data.html"><a href="formatting-describing-and-visualizing-data.html#working-with-ordinal-data"><i class="fa fa-check"></i><b>3.5</b> Working with Ordinal Data</a></li>
<li class="chapter" data-level="3.6" data-path="formatting-describing-and-visualizing-data.html"><a href="formatting-describing-and-visualizing-data.html#working-with-interval-data"><i class="fa fa-check"></i><b>3.6</b> Working with Interval Data</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="visualizing-data-probability-the-normal-distribution-and-z-scores.html"><a href="visualizing-data-probability-the-normal-distribution-and-z-scores.html"><i class="fa fa-check"></i><b>4</b> Visualizing Data, Probability, the Normal Distribution, and Z Scores</a><ul>
<li class="chapter" data-level="4.1" data-path="visualizing-data-probability-the-normal-distribution-and-z-scores.html"><a href="visualizing-data-probability-the-normal-distribution-and-z-scores.html#histograms-and-density"><i class="fa fa-check"></i><b>4.1</b> Histograms and Density</a><ul>
<li class="chapter" data-level="4.1.1" data-path="visualizing-data-probability-the-normal-distribution-and-z-scores.html"><a href="visualizing-data-probability-the-normal-distribution-and-z-scores.html#normal-distribution-and-histograms"><i class="fa fa-check"></i><b>4.1.1</b> Normal Distribution and Histograms</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="visualizing-data-probability-the-normal-distribution-and-z-scores.html"><a href="visualizing-data-probability-the-normal-distribution-and-z-scores.html#probability-and-distributions"><i class="fa fa-check"></i><b>4.2</b> Probability and Distributions</a></li>
<li class="chapter" data-level="4.3" data-path="visualizing-data-probability-the-normal-distribution-and-z-scores.html"><a href="visualizing-data-probability-the-normal-distribution-and-z-scores.html#visualizing-normality"><i class="fa fa-check"></i><b>4.3</b> Visualizing Normality</a></li>
<li class="chapter" data-level="4.4" data-path="visualizing-data-probability-the-normal-distribution-and-z-scores.html"><a href="visualizing-data-probability-the-normal-distribution-and-z-scores.html#z-scores"><i class="fa fa-check"></i><b>4.4</b> Z-Scores</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="foundations-for-inference.html"><a href="foundations-for-inference.html"><i class="fa fa-check"></i><b>5</b> Foundations for Inference</a><ul>
<li class="chapter" data-level="5.1" data-path="foundations-for-inference.html"><a href="foundations-for-inference.html#testing-for-normality"><i class="fa fa-check"></i><b>5.1</b> Testing for Normality</a><ul>
<li class="chapter" data-level="5.1.1" data-path="foundations-for-inference.html"><a href="foundations-for-inference.html#shapiro-wilk-test"><i class="fa fa-check"></i><b>5.1.1</b> Shapiro-Wilk Test</a></li>
<li class="chapter" data-level="5.1.2" data-path="foundations-for-inference.html"><a href="foundations-for-inference.html#testing-normality"><i class="fa fa-check"></i><b>5.1.2</b> Testing Normality</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="foundations-for-inference.html"><a href="foundations-for-inference.html#standard-errors"><i class="fa fa-check"></i><b>5.2</b> Standard Errors</a></li>
<li class="chapter" data-level="5.3" data-path="foundations-for-inference.html"><a href="foundations-for-inference.html#confidence-intervals"><i class="fa fa-check"></i><b>5.3</b> Confidence Intervals</a></li>
<li class="chapter" data-level="5.4" data-path="foundations-for-inference.html"><a href="foundations-for-inference.html#more-on-single-sample-t-tests"><i class="fa fa-check"></i><b>5.4</b> More on Single Sample T-tests</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="inference-for-two-populations.html"><a href="inference-for-two-populations.html"><i class="fa fa-check"></i><b>6</b> Inference for Two Populations</a><ul>
<li class="chapter" data-level="6.1" data-path="inference-for-two-populations.html"><a href="inference-for-two-populations.html#proportions"><i class="fa fa-check"></i><b>6.1</b> Proportions</a><ul>
<li class="chapter" data-level="6.1.1" data-path="inference-for-two-populations.html"><a href="inference-for-two-populations.html#two-populations"><i class="fa fa-check"></i><b>6.1.1</b> Two Populations</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="inference-for-two-populations.html"><a href="inference-for-two-populations.html#cross-tabulations"><i class="fa fa-check"></i><b>6.2</b> Cross Tabulations</a><ul>
<li class="chapter" data-level="6.2.1" data-path="inference-for-two-populations.html"><a href="inference-for-two-populations.html#other-coefficients"><i class="fa fa-check"></i><b>6.2.1</b> Other Coefficients</a></li>
</ul></li>
<li class="chapter" data-level="6.3" data-path="inference-for-two-populations.html"><a href="inference-for-two-populations.html#independent-t-tests"><i class="fa fa-check"></i><b>6.3</b> Independent t-tests</a><ul>
<li class="chapter" data-level="6.3.1" data-path="inference-for-two-populations.html"><a href="inference-for-two-populations.html#other-independent-sample-tests"><i class="fa fa-check"></i><b>6.3.1</b> Other Independent Sample Tests</a></li>
</ul></li>
<li class="chapter" data-level="6.4" data-path="inference-for-two-populations.html"><a href="inference-for-two-populations.html#paired-t-test"><i class="fa fa-check"></i><b>6.4</b> Paired t-test</a></li>
<li class="chapter" data-level="6.5" data-path="inference-for-two-populations.html"><a href="inference-for-two-populations.html#visualizing-differences-in-means"><i class="fa fa-check"></i><b>6.5</b> Visualizing Differences in Means</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="covariance-and-correlation.html"><a href="covariance-and-correlation.html"><i class="fa fa-check"></i><b>7</b> Covariance and Correlation</a><ul>
<li class="chapter" data-level="7.1" data-path="covariance-and-correlation.html"><a href="covariance-and-correlation.html#covariance"><i class="fa fa-check"></i><b>7.1</b> Covariance</a><ul>
<li class="chapter" data-level="7.1.1" data-path="covariance-and-correlation.html"><a href="covariance-and-correlation.html#covariance-by-hand"><i class="fa fa-check"></i><b>7.1.1</b> Covariance by Hand</a></li>
<li class="chapter" data-level="7.1.2" data-path="covariance-and-correlation.html"><a href="covariance-and-correlation.html#covariance-in-r"><i class="fa fa-check"></i><b>7.1.2</b> Covariance in R</a></li>
<li class="chapter" data-level="7.1.3" data-path="covariance-and-correlation.html"><a href="covariance-and-correlation.html#covariance-in-class-data-set"><i class="fa fa-check"></i><b>7.1.3</b> Covariance in Class Data Set</a></li>
</ul></li>
<li class="chapter" data-level="7.2" data-path="covariance-and-correlation.html"><a href="covariance-and-correlation.html#correlation"><i class="fa fa-check"></i><b>7.2</b> Correlation</a><ul>
<li class="chapter" data-level="7.2.1" data-path="covariance-and-correlation.html"><a href="covariance-and-correlation.html#correlation-by-hand"><i class="fa fa-check"></i><b>7.2.1</b> Correlation by Hand</a></li>
<li class="chapter" data-level="7.2.2" data-path="covariance-and-correlation.html"><a href="covariance-and-correlation.html#correlation-tests"><i class="fa fa-check"></i><b>7.2.2</b> Correlation Tests</a></li>
<li class="chapter" data-level="7.2.3" data-path="covariance-and-correlation.html"><a href="covariance-and-correlation.html#correlation-across-groups"><i class="fa fa-check"></i><b>7.2.3</b> Correlation Across Groups</a></li>
</ul></li>
<li class="chapter" data-level="7.3" data-path="covariance-and-correlation.html"><a href="covariance-and-correlation.html#visualizing-correlation"><i class="fa fa-check"></i><b>7.3</b> Visualizing Correlation</a><ul>
<li class="chapter" data-level="7.3.1" data-path="covariance-and-correlation.html"><a href="covariance-and-correlation.html#another-example-political-party"><i class="fa fa-check"></i><b>7.3.1</b> Another Example: Political Party</a></li>
<li class="chapter" data-level="7.3.2" data-path="covariance-and-correlation.html"><a href="covariance-and-correlation.html#one-more-visualization"><i class="fa fa-check"></i><b>7.3.2</b> One More Visualization</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8" data-path="bivariate-linear-regression.html"><a href="bivariate-linear-regression.html"><i class="fa fa-check"></i><b>8</b> Bivariate Linear Regression</a><ul>
<li class="chapter" data-level="8.1" data-path="bivariate-linear-regression.html"><a href="bivariate-linear-regression.html#bivariate-linear-regression-by-hand"><i class="fa fa-check"></i><b>8.1</b> Bivariate Linear Regression by Hand</a><ul>
<li class="chapter" data-level="8.1.1" data-path="bivariate-linear-regression.html"><a href="bivariate-linear-regression.html#calculating-goodness-of-fit"><i class="fa fa-check"></i><b>8.1.1</b> Calculating Goodness of Fit</a></li>
<li class="chapter" data-level="8.1.2" data-path="bivariate-linear-regression.html"><a href="bivariate-linear-regression.html#checking-our-work"><i class="fa fa-check"></i><b>8.1.2</b> Checking Our Work</a></li>
</ul></li>
<li class="chapter" data-level="8.2" data-path="bivariate-linear-regression.html"><a href="bivariate-linear-regression.html#bivariate-regression-in-r"><i class="fa fa-check"></i><b>8.2</b> Bivariate Regression in R</a></li>
<li class="chapter" data-level="8.3" data-path="bivariate-linear-regression.html"><a href="bivariate-linear-regression.html#the-residuals"><i class="fa fa-check"></i><b>8.3</b> The Residuals</a></li>
<li class="chapter" data-level="8.4" data-path="bivariate-linear-regression.html"><a href="bivariate-linear-regression.html#comparing-models"><i class="fa fa-check"></i><b>8.4</b> Comparing Models</a><ul>
<li class="chapter" data-level="8.4.1" data-path="bivariate-linear-regression.html"><a href="bivariate-linear-regression.html#visualizing-multiple-models"><i class="fa fa-check"></i><b>8.4.1</b> Visualizing Multiple Models</a></li>
</ul></li>
<li class="chapter" data-level="8.5" data-path="bivariate-linear-regression.html"><a href="bivariate-linear-regression.html#hypothesis-testing"><i class="fa fa-check"></i><b>8.5</b> Hypothesis Testing</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="multivariable-linear-regression.html"><a href="multivariable-linear-regression.html"><i class="fa fa-check"></i><b>9</b> Multivariable Linear Regression</a><ul>
<li class="chapter" data-level="9.1" data-path="multivariable-linear-regression.html"><a href="multivariable-linear-regression.html#calculating-least-squared-estimates"><i class="fa fa-check"></i><b>9.1</b> Calculating Least-Squared Estimates</a><ul>
<li class="chapter" data-level="9.1.1" data-path="multivariable-linear-regression.html"><a href="multivariable-linear-regression.html#matrix-algebra"><i class="fa fa-check"></i><b>9.1.1</b> Matrix Algebra</a></li>
<li class="chapter" data-level="9.1.2" data-path="multivariable-linear-regression.html"><a href="multivariable-linear-regression.html#representing-system-of-linear-equations-as-matrices"><i class="fa fa-check"></i><b>9.1.2</b> Representing System of Linear Equations as Matrices</a></li>
<li class="chapter" data-level="9.1.3" data-path="multivariable-linear-regression.html"><a href="multivariable-linear-regression.html#ols-regression-and-matrices"><i class="fa fa-check"></i><b>9.1.3</b> OLS Regression and Matrices</a></li>
</ul></li>
<li class="chapter" data-level="9.2" data-path="multivariable-linear-regression.html"><a href="multivariable-linear-regression.html#multiple-regression-in-r"><i class="fa fa-check"></i><b>9.2</b> Multiple Regression in R</a></li>
<li class="chapter" data-level="9.3" data-path="multivariable-linear-regression.html"><a href="multivariable-linear-regression.html#hypothesis-testing-with-multivariable-regression"><i class="fa fa-check"></i><b>9.3</b> Hypothesis Testing with Multivariable Regression</a><ul>
<li class="chapter" data-level="9.3.1" data-path="multivariable-linear-regression.html"><a href="multivariable-linear-regression.html#visualizing-multivariable-linear-regression"><i class="fa fa-check"></i><b>9.3.1</b> Visualizing Multivariable Linear Regression</a></li>
</ul></li>
<li class="chapter" data-level="9.4" data-path="multivariable-linear-regression.html"><a href="multivariable-linear-regression.html#predicting-with-ols-regression"><i class="fa fa-check"></i><b>9.4</b> Predicting with OLS Regression</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="categorical-explanatory-variables-dummy-variables-and-interactions.html"><a href="categorical-explanatory-variables-dummy-variables-and-interactions.html"><i class="fa fa-check"></i><b>10</b> Categorical Explanatory Variables, Dummy Variables, and Interactions</a><ul>
<li class="chapter" data-level="10.1" data-path="categorical-explanatory-variables-dummy-variables-and-interactions.html"><a href="categorical-explanatory-variables-dummy-variables-and-interactions.html#dummy-variables"><i class="fa fa-check"></i><b>10.1</b> Dummy Variables</a><ul>
<li class="chapter" data-level="10.1.1" data-path="categorical-explanatory-variables-dummy-variables-and-interactions.html"><a href="categorical-explanatory-variables-dummy-variables-and-interactions.html#multiple-dummy-variables"><i class="fa fa-check"></i><b>10.1.1</b> Multiple Dummy Variables</a></li>
</ul></li>
<li class="chapter" data-level="10.2" data-path="categorical-explanatory-variables-dummy-variables-and-interactions.html"><a href="categorical-explanatory-variables-dummy-variables-and-interactions.html#interactions"><i class="fa fa-check"></i><b>10.2</b> Interactions</a><ul>
<li class="chapter" data-level="10.2.1" data-path="categorical-explanatory-variables-dummy-variables-and-interactions.html"><a href="categorical-explanatory-variables-dummy-variables-and-interactions.html#interactions-with-two-non-binary-variables"><i class="fa fa-check"></i><b>10.2.1</b> Interactions with Two Non-binary Variables</a></li>
</ul></li>
<li class="chapter" data-level="10.3" data-path="categorical-explanatory-variables-dummy-variables-and-interactions.html"><a href="categorical-explanatory-variables-dummy-variables-and-interactions.html#releveling-variables"><i class="fa fa-check"></i><b>10.3</b> Releveling Variables</a></li>
<li class="chapter" data-level="10.4" data-path="categorical-explanatory-variables-dummy-variables-and-interactions.html"><a href="categorical-explanatory-variables-dummy-variables-and-interactions.html#interaction-plots"><i class="fa fa-check"></i><b>10.4</b> Interaction Plots</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="non-linearity-non-normality-and-multicollinearity.html"><a href="non-linearity-non-normality-and-multicollinearity.html"><i class="fa fa-check"></i><b>11</b> Non-linearity, Non-normality, and Multicollinearity</a><ul>
<li class="chapter" data-level="11.1" data-path="non-linearity-non-normality-and-multicollinearity.html"><a href="non-linearity-non-normality-and-multicollinearity.html#non-linearity"><i class="fa fa-check"></i><b>11.1</b> Non-linearity</a><ul>
<li class="chapter" data-level="11.1.1" data-path="non-linearity-non-normality-and-multicollinearity.html"><a href="non-linearity-non-normality-and-multicollinearity.html#exploring-non-linearity"><i class="fa fa-check"></i><b>11.1.1</b> Exploring Non-linearity</a></li>
</ul></li>
<li class="chapter" data-level="11.2" data-path="non-linearity-non-normality-and-multicollinearity.html"><a href="non-linearity-non-normality-and-multicollinearity.html#non-normality"><i class="fa fa-check"></i><b>11.2</b> Non-normality</a></li>
<li class="chapter" data-level="11.3" data-path="non-linearity-non-normality-and-multicollinearity.html"><a href="non-linearity-non-normality-and-multicollinearity.html#multicollinearity"><i class="fa fa-check"></i><b>11.3</b> Multicollinearity</a></li>
<li class="chapter" data-level="11.4" data-path="non-linearity-non-normality-and-multicollinearity.html"><a href="non-linearity-non-normality-and-multicollinearity.html#standardizing-coefficients"><i class="fa fa-check"></i><b>11.4</b> Standardizing Coefficients</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="diagnosing-and-addressing-problems-in-linear-regression.html"><a href="diagnosing-and-addressing-problems-in-linear-regression.html"><i class="fa fa-check"></i><b>12</b> Diagnosing and Addressing Problems in Linear Regression</a><ul>
<li class="chapter" data-level="12.1" data-path="diagnosing-and-addressing-problems-in-linear-regression.html"><a href="diagnosing-and-addressing-problems-in-linear-regression.html#introduction-to-the-data"><i class="fa fa-check"></i><b>12.1</b> Introduction to the Data</a></li>
<li class="chapter" data-level="12.2" data-path="diagnosing-and-addressing-problems-in-linear-regression.html"><a href="diagnosing-and-addressing-problems-in-linear-regression.html#outliers"><i class="fa fa-check"></i><b>12.2</b> Outliers</a></li>
<li class="chapter" data-level="12.3" data-path="diagnosing-and-addressing-problems-in-linear-regression.html"><a href="diagnosing-and-addressing-problems-in-linear-regression.html#heteroscedasticity"><i class="fa fa-check"></i><b>12.3</b> Heteroscedasticity</a></li>
<li class="chapter" data-level="12.4" data-path="diagnosing-and-addressing-problems-in-linear-regression.html"><a href="diagnosing-and-addressing-problems-in-linear-regression.html#revisiting-linearity"><i class="fa fa-check"></i><b>12.4</b> Revisiting Linearity</a><ul>
<li class="chapter" data-level="12.4.1" data-path="diagnosing-and-addressing-problems-in-linear-regression.html"><a href="diagnosing-and-addressing-problems-in-linear-regression.html#normality"><i class="fa fa-check"></i><b>12.4.1</b> Normality</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="13" data-path="logistic-regression.html"><a href="logistic-regression.html"><i class="fa fa-check"></i><b>13</b> Logistic Regression</a><ul>
<li class="chapter" data-level="13.1" data-path="logistic-regression.html"><a href="logistic-regression.html#logistic-regression-with-a-binary-dv"><i class="fa fa-check"></i><b>13.1</b> Logistic Regression with a Binary DV</a><ul>
<li class="chapter" data-level="13.1.1" data-path="logistic-regression.html"><a href="logistic-regression.html#goodness-of-fit-logit-regression"><i class="fa fa-check"></i><b>13.1.1</b> Goodness of Fit, Logit Regression</a></li>
<li class="chapter" data-level="13.1.2" data-path="logistic-regression.html"><a href="logistic-regression.html#percent-correctly-predicted"><i class="fa fa-check"></i><b>13.1.2</b> Percent Correctly Predicted</a></li>
<li class="chapter" data-level="13.1.3" data-path="logistic-regression.html"><a href="logistic-regression.html#logit-regression-with-groups"><i class="fa fa-check"></i><b>13.1.3</b> Logit Regression with Groups</a></li>
</ul></li>
<li class="chapter" data-level="13.2" data-path="logistic-regression.html"><a href="logistic-regression.html#ordered-logit-and-creating-an-index"><i class="fa fa-check"></i><b>13.2</b> Ordered Logit and Creating an Index</a></li>
</ul></li>
<li class="chapter" data-level="14" data-path="statistical-simulations.html"><a href="statistical-simulations.html"><i class="fa fa-check"></i><b>14</b> Statistical Simulations</a><ul>
<li class="chapter" data-level="14.1" data-path="statistical-simulations.html"><a href="statistical-simulations.html#the-basics"><i class="fa fa-check"></i><b>14.1</b> The Basics</a><ul>
<li class="chapter" data-level="14.1.1" data-path="statistical-simulations.html"><a href="statistical-simulations.html#plotting-predictions-with-zelig"><i class="fa fa-check"></i><b>14.1.1</b> Plotting Predictions with Zelig</a></li>
</ul></li>
<li class="chapter" data-level="14.2" data-path="statistical-simulations.html"><a href="statistical-simulations.html#other-models"><i class="fa fa-check"></i><b>14.2</b> Other Models</a><ul>
<li class="chapter" data-level="14.2.1" data-path="statistical-simulations.html"><a href="statistical-simulations.html#ordered-logit"><i class="fa fa-check"></i><b>14.2.1</b> Ordered Logit</a></li>
<li class="chapter" data-level="14.2.2" data-path="statistical-simulations.html"><a href="statistical-simulations.html#another-example"><i class="fa fa-check"></i><b>14.2.2</b> Another Example</a></li>
</ul></li>
<li class="chapter" data-level="14.3" data-path="statistical-simulations.html"><a href="statistical-simulations.html#zelig-with-non-zelig-models"><i class="fa fa-check"></i><b>14.3</b> Zelig with non-Zelig Models:</a></li>
</ul></li>
<li class="chapter" data-level="15" data-path="appendix-guide-to-data-visualization.html"><a href="appendix-guide-to-data-visualization.html"><i class="fa fa-check"></i><b>15</b> Appendix: Guide to Data Visualization</a><ul>
<li class="chapter" data-level="15.1" data-path="appendix-guide-to-data-visualization.html"><a href="appendix-guide-to-data-visualization.html#deciding-which-visualization-to-use"><i class="fa fa-check"></i><b>15.1</b> Deciding Which Visualization to Use</a><ul>
<li class="chapter" data-level="" data-path="appendix-guide-to-data-visualization.html"><a href="appendix-guide-to-data-visualization.html#for-exploring-a-single-variable"><i class="fa fa-check"></i>For Exploring a Single Variable</a></li>
<li class="chapter" data-level="" data-path="appendix-guide-to-data-visualization.html"><a href="appendix-guide-to-data-visualization.html#for-displaying-two-or-more-variables"><i class="fa fa-check"></i>For Displaying Two (or more) Variables</a></li>
</ul></li>
<li class="chapter" data-level="15.2" data-path="appendix-guide-to-data-visualization.html"><a href="appendix-guide-to-data-visualization.html#adding-labels"><i class="fa fa-check"></i><b>15.2</b> Adding Labels</a></li>
<li class="chapter" data-level="15.3" data-path="appendix-guide-to-data-visualization.html"><a href="appendix-guide-to-data-visualization.html#scale-and-limits"><i class="fa fa-check"></i><b>15.3</b> Scale and Limits</a></li>
<li class="chapter" data-level="15.4" data-path="appendix-guide-to-data-visualization.html"><a href="appendix-guide-to-data-visualization.html#visualizing-error"><i class="fa fa-check"></i><b>15.4</b> Visualizing Error</a><ul>
<li class="chapter" data-level="" data-path="appendix-guide-to-data-visualization.html"><a href="appendix-guide-to-data-visualization.html#confidence-intervals-1"><i class="fa fa-check"></i>Confidence Intervals</a></li>
<li class="chapter" data-level="" data-path="appendix-guide-to-data-visualization.html"><a href="appendix-guide-to-data-visualization.html#error-bars"><i class="fa fa-check"></i>Error Bars</a></li>
</ul></li>
<li class="chapter" data-level="15.5" data-path="appendix-guide-to-data-visualization.html"><a href="appendix-guide-to-data-visualization.html#adding-color"><i class="fa fa-check"></i><b>15.5</b> Adding Color</a></li>
<li class="chapter" data-level="15.6" data-path="appendix-guide-to-data-visualization.html"><a href="appendix-guide-to-data-visualization.html#position-adjustments"><i class="fa fa-check"></i><b>15.6</b> Position Adjustments</a></li>
<li class="chapter" data-level="15.7" data-path="appendix-guide-to-data-visualization.html"><a href="appendix-guide-to-data-visualization.html#using-themes"><i class="fa fa-check"></i><b>15.7</b> Using Themes</a></li>
<li class="chapter" data-level="15.8" data-path="appendix-guide-to-data-visualization.html"><a href="appendix-guide-to-data-visualization.html#putting-it-all-together"><i class="fa fa-check"></i><b>15.8</b> Putting it All Together</a></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Lab Guide to Quantitative Research Methods in Political Science, Public Policy &amp; Public Administration</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="formatting-describing-and-visualizing-data" class="section level1">
<h1><span class="header-section-number">3</span> Formatting, Describing, and Visualizing Data</h1>
<p>This lab discusses the basics of formatting, describing, and visualizing data. The following packages are required for this lab:</p>
<ol style="list-style-type: decimal">
<li>car</li>
<li>reshape2</li>
<li>descr</li>
<li>psych</li>
<li>tidyverse</li>
<li>skimr</li>
</ol>
<p><strong>Reminder:</strong> Lab One introduced how to install packages via the <code>install.packages()</code> function.</p>
<p><strong>Note:</strong> These packages should already be installed from the class initialization script.</p>
<p>The installed packages require loading at the beginning of a R session. Remember that this can be done via the <code>library()</code> command.</p>
<div id="factoring" class="section level2">
<h2><span class="header-section-number">3.1</span> Factoring</h2>
<p>The previous lab introduced several types of objects in R. For the purpose of this lab, objects are classified into two broad groups: factors and numerics.</p>
<p>Factors are nominal data that a label is applied to.
- e.g., race, gender, party identification, etc.</p>
<p>Numerics are data consisting of numbers, which are ranked (ordinal and interval).</p>
<p>When data is read into R (e.g., by importing a .csv file), R automatically classifies the data by type. When data is recognized as non-numeric, R will classify it as a factor.</p>
<p>In the class dataset, the variable <code>f.party.2</code> is a variable consisting of factors that identifies the party affilation of the individuals who answered a survey. The <code>table()</code> function describes the variable by category.</p>
<div class="sourceCode" id="cb56"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb56-1" data-line-number="1"><span class="kw">table</span>(ds<span class="op">$</span>f.party<span class="fl">.2</span>)</a></code></pre></div>
<pre><code>## 
##  Dem  Ind  Rep 
##  869  356 1185</code></pre>
<p>Attempting to take mean of the <code>f.party.2</code> variable inevitably fails.</p>
<div class="sourceCode" id="cb58"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb58-1" data-line-number="1"><span class="kw">mean</span>(ds<span class="op">$</span>f.party<span class="fl">.2</span>)</a></code></pre></div>
<pre><code>## Warning in mean.default(ds$f.party.2): argument is not numeric or logical:
## returning NA</code></pre>
<pre><code>## [1] NA</code></pre>
<p>Party affiliation is nominal data that cannot be described via mean. Consequently, R will error when attempting to calculate the mean or median for factor variables.</p>
<p>The <code>str()</code> function describes the structure of the <code>f.party.2</code> variable:</p>
<div class="sourceCode" id="cb61"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb61-1" data-line-number="1"><span class="kw">str</span>(ds<span class="op">$</span>f.party<span class="fl">.2</span>)</a></code></pre></div>
<pre><code>##  Factor w/ 3 levels &quot;Dem&quot;,&quot;Ind&quot;,&quot;Rep&quot;: 3 1 3 NA 3 2 1 3 3 NA ...</code></pre>
<p>The <code>f.party.2</code> variable is a factor with three levels: “Dem”, “Ind”, and “Rep.”</p>
<p>With many data sets, data are initially coded in numbers and factored afterwards. For example, the <code>party</code> variable in the <code>ds</code> data set is numeric:</p>
<div class="sourceCode" id="cb63"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb63-1" data-line-number="1"><span class="kw">table</span>(ds<span class="op">$</span>party)</a></code></pre></div>
<pre><code>## 
##    1    2    3    4 
##  869 1185  356   91</code></pre>
<p>Without a codebook to decipher the numeric values, statisticians are unable to explain what 1, 2, 3, or 4 represent within the <code>ds</code> data set. Factoring data remedies this issue. Factoring data in R serves two broad purposes:</p>
<ol style="list-style-type: decimal">
<li>Applies labels to data</li>
<li>Tells R to treat the data as categorical/nominal</li>
</ol>
<p>At a very basic level, a variable can be factored without applying labels. At minimum, R will treat the data as categorical. This method is sufficient when a variable requires quick factoring. The basic syntax is to use the <code>factor()</code> function.
<strong>Note:</strong> Best practice for factoring an existing variable is to create an additional variable within the same data set. Best practice then suggests to append the new variable with <code>f.</code> to indicate the variable is factored.</p>
<div class="sourceCode" id="cb65"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb65-1" data-line-number="1">ds<span class="op">$</span>f.gender &lt;-<span class="st"> </span><span class="kw">factor</span>(ds<span class="op">$</span>gender)</a></code></pre></div>
<p><strong>Reminder:</strong> The <code>$</code> sign shows R which data set to draw the variable from, or to tell R what data set to assign the new factored variable to. The new factored variable can be described via the <code>table()</code> function.</p>
<div class="sourceCode" id="cb66"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb66-1" data-line-number="1"><span class="kw">table</span>(ds<span class="op">$</span>f.gender)</a></code></pre></div>
<pre><code>## 
##    0    1 
## 1520 1026</code></pre>
<p>While this factored variable is split into two categories, it is not apparent which numbers represent male and female. Labels should be assigned to the numbers to clarify the relationship between the numbers and their meaning. When factoring a variable, R requires the number of levels within the variable and the corresponding labels. In the <code>f.gender</code> variable there are two levels, 0 and 1, that require women and men labels.</p>
<div class="sourceCode" id="cb68"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb68-1" data-line-number="1">ds<span class="op">$</span>f.gender &lt;-<span class="st"> </span><span class="kw">factor</span>(ds<span class="op">$</span>gender, <span class="dt">levels =</span> <span class="kw">c</span>(<span class="dv">0</span>, <span class="dv">1</span>), </a>
<a class="sourceLine" id="cb68-2" data-line-number="2">                      <span class="dt">labels =</span> <span class="kw">c</span>(<span class="st">&quot;Women&quot;</span>, <span class="st">&quot;Men&quot;</span>))</a>
<a class="sourceLine" id="cb68-3" data-line-number="3"><span class="kw">table</span>(ds<span class="op">$</span>f.gender)</a></code></pre></div>
<pre><code>## 
## Women   Men 
##  1520  1026</code></pre>
<p>The vector function, <code>c()</code>, tells R the levels and labels of the variable.</p>
<p>The <code>f.party</code> variable should also be factored, where 1 = Dem, 2 = Rep, 3 = Ind, and 4 = Other, and a table of the variable should be created.</p>
<div class="sourceCode" id="cb70"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb70-1" data-line-number="1">ds<span class="op">$</span>f.party &lt;-<span class="st"> </span><span class="kw">factor</span>(ds<span class="op">$</span>party, <span class="dt">levels =</span> <span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>), </a>
<a class="sourceLine" id="cb70-2" data-line-number="2">                     <span class="dt">labels =</span> <span class="kw">c</span>(<span class="st">&quot;Dem&quot;</span>, <span class="st">&quot;Rep&quot;</span>, <span class="st">&quot;Ind&quot;</span>, <span class="st">&quot;Other&quot;</span>))</a>
<a class="sourceLine" id="cb70-3" data-line-number="3"><span class="kw">table</span>(ds<span class="op">$</span>f.party)</a></code></pre></div>
<pre><code>## 
##   Dem   Rep   Ind Other 
##   869  1185   356    91</code></pre>
<p>The structure of the <code>f.party</code> variable describes a factor with four levels.</p>
<div class="sourceCode" id="cb72"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb72-1" data-line-number="1"><span class="kw">str</span>(ds<span class="op">$</span>f.party)</a></code></pre></div>
<pre><code>##  Factor w/ 4 levels &quot;Dem&quot;,&quot;Rep&quot;,&quot;Ind&quot;,..: 2 1 2 NA 2 3 1 2 2 4 ...</code></pre>
<p>There are other types of data conversions as well. In most cases, the basic syntax is the same as the <code>factor()</code> function, except the function names are <code>numeric()</code> or <code>integer()</code>.
<strong>Note:</strong> For most purposes, numeric and integer are the same.</p>
<div id="coerce-factoring" class="section level3">
<h3><span class="header-section-number">3.1.1</span> Coerce Factoring</h3>
<p>Sometimes the typical commands do not work and variables must be coerced. When a variable is coerced, R is instructed to treat the variable as if it were a different object type. The coercive functions are:</p>
<ol style="list-style-type: decimal">
<li><code>as.factor()</code></li>
<li><code>as.numeric()</code></li>
<li><code>as.integer()</code></li>
</ol>
<p><strong>Try it!</strong> Convert a factor variable into a numeric variable using the <code>numeric()</code> function.</p>
<p>This fails, so the coerce function should be employed.</p>
<div class="sourceCode" id="cb74"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb74-1" data-line-number="1">ds<span class="op">$</span>n.party &lt;-<span class="st"> </span><span class="kw">as.numeric</span>(ds<span class="op">$</span>f.party)</a></code></pre></div>
<p>Examine the new variable with the <code>table()</code> and <code>str()</code> functions.</p>
<div class="sourceCode" id="cb75"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb75-1" data-line-number="1"><span class="kw">table</span>(ds<span class="op">$</span>n.party)</a></code></pre></div>
<pre><code>## 
##    1    2    3    4 
##  869 1185  356   91</code></pre>
<div class="sourceCode" id="cb77"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb77-1" data-line-number="1"><span class="kw">str</span>(ds<span class="op">$</span>n.party)</a></code></pre></div>
<pre><code>##  num [1:2547] 2 1 2 NA 2 3 1 2 2 4 ...</code></pre>
</div>
</div>
<div id="recoding" class="section level2">
<h2><span class="header-section-number">3.2</span> Recoding</h2>
<p>In R, the <code>recode()</code> function recodes values within a variable. There many reasons to recode a variable, including:</p>
<ol style="list-style-type: decimal">
<li>To correct or change incorrect data.</li>
<li>To restructure data, making it easier for calculations.</li>
<li>To emphasize some intended effect.</li>
</ol>
<p>For example, a recode is necessary to look at age groups instead of exact ages. If everyone in the survey reported their exact age (e.g., 54, 23, etc.) and age groups are necessary (e.g., 18-25, 26-35, etc.), the <code>recode()</code> function is useful.</p>
<p>To perform a recode, follow this basic syntax: <code>recoded.variable &lt;- recode(old.variable, &quot;recode commands&quot;)</code></p>
<p>Performing a recode is best demonstrated via example. The best practice for recoding variables suggest creating a new variable with a <code>r.</code> prefix.</p>
<p>Within the class data set is an <code>ideol</code> variable describing ideology. Currently, the ideology variable goes from 1 to 7, with 1 being very liberal and 7 being very conservative. The ideology variable can be recoded from seven levels to three, liberal, moderate, and conservative, via the <code>recode()</code> function. Values from 1 to 2 will recode as 1, 3 to 5 will recode as 2, and 6 to 7 will recode as 3. This <code>recode()</code> function is provided by the <code>car</code> package.</p>
<div class="sourceCode" id="cb79"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb79-1" data-line-number="1">ds<span class="op">$</span>r.ideol &lt;-<span class="st"> </span>car<span class="op">::</span><span class="kw">recode</span>(ds<span class="op">$</span>ideol, <span class="st">&quot;1:2 = 1; 3:5 = 2; 6:7 = 3; </span></a>
<a class="sourceLine" id="cb79-2" data-line-number="2"><span class="st">                          else = NA; NA = NA&quot;</span>)</a></code></pre></div>
<p>The <code>table()</code> function describes the result of recoding the <code>ideol</code> variable.</p>
<div class="sourceCode" id="cb80"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb80-1" data-line-number="1"><span class="kw">table</span>(ds<span class="op">$</span>r.ideol, <span class="dt">useNA =</span> <span class="st">&quot;always&quot;</span>)</a></code></pre></div>
<pre><code>## 
##    1    2    3 &lt;NA&gt; 
##  401 1084 1039   23</code></pre>
<p><strong>Note:</strong> <code>else = NA; NA = NA</code> is included at the end of the recode function. This instructs R to regard any other responses, whether missing data or data that for some reason is outside the original range, as NA, and to treat all existing NAs as NAs. Sometimes <code>-99 = -99</code> or <code>-99 = NA</code> requires inclusion in the function as well.</p>
<p><strong>Note:</strong> In the recode function, all the recode arguments are required <strong>inside one set of quotation marks</strong>. Each argument is separated with a semicolon. R will generate an error message if commas are used.</p>
<p>Using colons to define ranges will save time. In the <code>recode()</code> function, using <code>3:5 = 1</code> instructs R to recode all values between 3 and 5 to a 2. This is the preferred method opposed to typing <code>3 = 2; 4 = 2; 5 = 2</code>.</p>
<p>There is no standard method to categorize or recode data. Let the research question, model design, and data determine the best approach to recoding. For example, in surveys that ask individuals to support something on a scale of 1 to 4, with 1 as very supportive and 4 as least supportive, perhaps recoding the higher value to indicate greater support is appropriate.</p>
<p>Now let’s look at the race variable:</p>
<div class="sourceCode" id="cb82"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb82-1" data-line-number="1"><span class="kw">table</span>(ds<span class="op">$</span>race)</a></code></pre></div>
<pre><code>## 
##    1    2    3    4    5    6    7 
## 2227   79  119   10    2   76   23</code></pre>
<p>In the <code>ds</code> data set, the <code>race</code> variable consists of codes: 1 for Caucasian, 2 for African-American, and 3 through 7 for a variety of other races (Native American, Asian, Pacific Islander, 2+ races, and Other).</p>
<p><strong>Try it!</strong> Recode this variable to go from 7 levels to 3, where 1 is still Caucasian, 2 is African American, and 3 includes all others.</p>
<div class="sourceCode" id="cb84"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb84-1" data-line-number="1">ds<span class="op">$</span>r.race &lt;-<span class="st"> </span>car<span class="op">::</span><span class="kw">recode</span>(ds<span class="op">$</span>race, <span class="st">&quot;1 = 1; 2 = 2; 3:7 = 3; </span></a>
<a class="sourceLine" id="cb84-2" data-line-number="2"><span class="st">                         else = NA; NA = NA&quot;</span>)</a>
<a class="sourceLine" id="cb84-3" data-line-number="3"><span class="kw">table</span>(ds<span class="op">$</span>r.race)</a></code></pre></div>
<pre><code>## 
##    1    2    3 
## 2227   79  230</code></pre>
<div id="factoring-and-recoding" class="section level3">
<h3><span class="header-section-number">3.2.1</span> Factoring and Recoding</h3>
<p>Factoring a variable is generally easier subsequent to recoding. Given the <code>race</code> variable now consists of 3 levels instead of 7, factoring will add meaningful words in place of the values. The values 1, 2, and 3 can be factored as White, African-American, and Other, respectively.</p>
<div class="sourceCode" id="cb86"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb86-1" data-line-number="1">ds<span class="op">$</span>f.race<span class="fl">.2</span> &lt;-<span class="st"> </span><span class="kw">factor</span>(ds<span class="op">$</span>r.race, <span class="dt">levels =</span> <span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>), </a>
<a class="sourceLine" id="cb86-2" data-line-number="2">                      <span class="dt">labels =</span> <span class="kw">c</span>(<span class="st">&quot;White&quot;</span>, <span class="st">&quot;African-American&quot;</span>, <span class="st">&quot;Other&quot;</span>))</a>
<a class="sourceLine" id="cb86-3" data-line-number="3"><span class="kw">table</span>(ds<span class="op">$</span>f.race<span class="fl">.2</span>)</a></code></pre></div>
<pre><code>## 
##            White African-American            Other 
##             2227               79              230</code></pre>
<p>The same can be done with the <code>ideol</code> variable. The values 1, 2, and 3 can be factored as Liberal, Moderate, and Conservative, respectively.</p>
<div class="sourceCode" id="cb88"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb88-1" data-line-number="1">ds<span class="op">$</span>f.ideol &lt;-<span class="st"> </span><span class="kw">factor</span>(ds<span class="op">$</span>r.ideol, <span class="dt">levels =</span> <span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>), </a>
<a class="sourceLine" id="cb88-2" data-line-number="2">                     <span class="dt">labels =</span> <span class="kw">c</span>(<span class="st">&quot;Liberal&quot;</span>, <span class="st">&quot;Moderate&quot;</span>, <span class="st">&quot;Conservative&quot;</span>))</a>
<a class="sourceLine" id="cb88-3" data-line-number="3"><span class="kw">table</span>(ds<span class="op">$</span>f.ideol)</a></code></pre></div>
<pre><code>## 
##      Liberal     Moderate Conservative 
##          401         1084         1039</code></pre>
</div>
<div id="creating-a-dummy-variable" class="section level3">
<h3><span class="header-section-number">3.2.2</span> Creating a Dummy Variable</h3>
<p>Factoring and recoding permit the creation of dummy variables. A dummy variable is a binary indicator (0 or 1) of some category, to test for an effect from a particular category. Dummy variables are prominent in political science, so it is imperative to understand how to create and use them.</p>
<p>A dummy variable will be created with the recoded <code>race</code> variable to indicate whether the respondent identified as African-American (1) or not (0). Recall that in the <code>r.race</code> variable, African-American is coded as 2.</p>
<div class="sourceCode" id="cb90"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb90-1" data-line-number="1">ds<span class="op">$</span>r.AfAm &lt;-<span class="st"> </span>car<span class="op">::</span><span class="kw">recode</span>(ds<span class="op">$</span>r.race, <span class="st">&quot;2 = 1; else = 0; NA = NA&quot;</span>)</a>
<a class="sourceLine" id="cb90-2" data-line-number="2"><span class="kw">table</span>(ds<span class="op">$</span>r.AfAm)</a></code></pre></div>
<pre><code>## 
##    0    1 
## 2468   79</code></pre>
<p>The newly created dummy variable will now be factored to apply meaningful labels in place of the numbers.</p>
<div class="sourceCode" id="cb92"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb92-1" data-line-number="1">ds<span class="op">$</span>f.AfAm &lt;-<span class="st"> </span><span class="kw">factor</span>(ds<span class="op">$</span>r.AfAm, <span class="dt">levels =</span> <span class="kw">c</span>(<span class="dv">0</span>, <span class="dv">1</span>), </a>
<a class="sourceLine" id="cb92-2" data-line-number="2">                    <span class="dt">labels =</span> <span class="kw">c</span>(<span class="st">&quot;Non African-American&quot;</span>, <span class="st">&quot;African-American&quot;</span>))</a>
<a class="sourceLine" id="cb92-3" data-line-number="3"><span class="kw">table</span>(ds<span class="op">$</span>f.AfAm)</a></code></pre></div>
<pre><code>## 
## Non African-American     African-American 
##                 2468                   79</code></pre>
</div>
</div>
<div id="part-iii-building-and-sorting-your-data" class="section level2">
<h2><span class="header-section-number">3.3</span> Part III: Building and Sorting Your Data</h2>
<p>In R, random data can be generated easily into objects and manipulated as desired. There are a variety of methods to accomplish this, the basics of which are explored below.</p>
<p>The <code>rnorm()</code> function generates <code>n</code> random values that fit a normal distribution, given a mean and standard deviation.</p>
<div class="sourceCode" id="cb94"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb94-1" data-line-number="1">one &lt;-<span class="st"> </span><span class="kw">rnorm</span>(<span class="dv">100</span>, <span class="dt">mean =</span> <span class="dv">3</span>)</a>
<a class="sourceLine" id="cb94-2" data-line-number="2">two &lt;-<span class="st"> </span><span class="kw">rnorm</span>(<span class="dv">100</span>, <span class="dt">mean =</span> <span class="dv">7</span>)</a>
<a class="sourceLine" id="cb94-3" data-line-number="3">three &lt;-<span class="st"> </span><span class="kw">rnorm</span>(<span class="dv">100</span>, <span class="dt">mean =</span> <span class="dv">1</span>)</a></code></pre></div>
<p>The previous code created three objects consisting of 100 random values with different means. The three objects can be combined into a single column using the <code>cbind()</code> function. The <code>cbind()</code> function will combine the given objects sequentially in a column in the provided order.</p>
<div class="sourceCode" id="cb95"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb95-1" data-line-number="1">four &lt;-<span class="st"> </span><span class="kw">cbind</span>(one, two, three)</a></code></pre></div>
<p>Alternatively, the <code>rbind()</code> function can combine the three objects into a single row. Similar to the <code>cbind()</code> function, the <code>rbind()</code> function will combine the given objects sequentially in the provided order.</p>
<div class="sourceCode" id="cb96"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb96-1" data-line-number="1">five &lt;-<span class="st"> </span><span class="kw">rbind</span>(one, two, three)</a></code></pre></div>
<div id="the-tidyverse" class="section level3">
<h3><span class="header-section-number">3.3.1</span> The Tidyverse</h3>
<p>The <code>tidyverse</code> is a collection of packages and functions for exploring and visualizing data in R. Developed by Hadley Wickham, the <code>tidyverse</code> packages provide a succint and consistent method of data exploration and visualization. There are plenty of different methods of working with your data, but this class will employ the <code>tidyverse</code>, as it is considered to be intuitive and rather simple.</p>
<p>Let’s begin with learning how to filter your data. Filtering allows you to create a subset of your data that meets specific criteria. For example, you could filter your data to examine only men, or only Republicans, etc. To filter data, use the <code>filter()</code> verb from the <code>dplyr</code> package. The <code>tidyverse</code> functions are best optimized by using the pipe operator, <code>%&gt;%</code>, to pipe functions together. The pipe operator takes whatever is before it and sends it on to the next function. For example:</p>
<div class="sourceCode" id="cb97"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb97-1" data-line-number="1">ds.men &lt;-<span class="st"> </span>ds <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb97-2" data-line-number="2"><span class="st">  </span><span class="kw">filter</span>(gender <span class="op">==</span><span class="st"> </span><span class="dv">1</span>)</a></code></pre></div>
<p>The code chunk above creates a subset of the data that only includes men. The syntax can be read as “First take the data set, then filter it to include men only.” We also assigned it to a new object, <code>ds.men</code>. The filter verb can include multiple specifications. You also do not have to always assign your filtered data to a new object. For example, suppose you wanted to examine women who are age 42. You can do so like this:</p>
<div class="sourceCode" id="cb98"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb98-1" data-line-number="1">ds <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb98-2" data-line-number="2"><span class="st">  </span><span class="kw">filter</span>(gender <span class="op">==</span><span class="st"> </span><span class="dv">0</span>, age <span class="op">==</span><span class="st"> </span><span class="dv">42</span>)</a></code></pre></div>
<pre><code>##   X.1    X     userid             wave_id agescreen age gender education
## 1 202 2994 Ph-W202242 Wave 12 (Fall 2016)         1  42      0         6
## 2 483 7164 Ph-W211012 Wave 12 (Fall 2016)         1  42      0         5
## 3 514 7635 Ph-W302515 Wave 12 (Fall 2016)         1  42      0         6
## 4 651 9559   R2NM6835 Wave 12 (Fall 2016)         1  42      0         5
##   adults children employment income footage ssn_precip ssn_tmp drghtfreq
## 1      2        3          1  86000    1400          1       3         2
## 2      3        1          4 120000    1100          1       3         2
## 3      2        1          4  90000    2800          2       3         2
## 4      2        0          4  95000    2100          2       3         3
##   drghtsev fldfreq fldsev avgtmp tmpextrm evntexp_wind evntexp_drght
## 1       NA       1      1      2        2            0             0
## 2        2       2      1      3        3            0             0
## 3        1       2      1     NA       NA            0             0
## 4        2       2      2      2        2            1             0
##   evntexp_rain evntexp_cold evntexp_snow evntexp_ice evntexp_flood
## 1            0            0            0           0             0
## 2            0            0            0           0             0
## 3            0            0            0           0             0
## 4            0            0            0           0             0
##   evntexp_torn evntexp_fire evntfreq_wind evntfreq_rain evntfreq_cold
## 1            0            1             2             2             2
## 2            0            0             2             1             1
## 3            0            0             2             2             2
## 4            0            0             2             2             2
##   evntfreq_snow evntfreq_ice evntfreq_torn evntfreq_fire evntfutfreq_wind
## 1             2            2             1             3                2
## 2             1            1             2             1                2
## 3             2            2             2             2                2
## 4             2            2             2             2                2
##   evntfutfreq_drght evntfutfreq_rain evntfutfreq_cold evntfutfreq_snow
## 1                 3                1                2                2
## 2                 3                3                1                1
## 3                 2                2                2                2
## 4                 2                2                2                2
##   evntfutfreq_ice evntfutfreq_flood evntfutfreq_torn evntfutfreq_fire
## 1               2                 2                2               NA
## 2               1                 2                3                2
## 3               2                 2                2                2
## 4               2                 2               NA                2
##   wtr_bill_totcost wtr_bill_dk wtr_use wtr_short mntain_lawn wtr_qual
## 1              156           0       2         0           1        3
## 2              200           0       2         0           1        3
## 3                0           0       2         0           1        3
## 4               86           0       2         0           1        2
##   wtr_safe wtr_comm wtr_farm wtr_steps_flush wtr_steps_flow wtr_steps_bath
## 1        8        1        1               0              0              0
## 2        8        4        3               0              1              1
## 3        7        4        4               0              0              0
## 4        8        3        2               0              0              0
##   wtr_steps_lawn wtr_steps_car wtr_steps_othr
## 1              1             0              0
## 2              1             0              1
## 3              0             0              0
## 4              0             0              0
##                     wtr_steps_spec enrgy_sourc_elec enrgy_sourc_natgas
## 1                             &lt;NA&gt;                1                  1
## 2 Use our sand point well to water                1                  1
## 3                             &lt;NA&gt;                1                  0
## 4                             &lt;NA&gt;                1                  1
##   enrgy_sourc_prop enrgy_sourc_wood enrgy_sourc_othr enrgy_sourc_othr_spec
## 1                0                1                0                  &lt;NA&gt;
## 2                0                0                0                  &lt;NA&gt;
## 3                0                0                0                  &lt;NA&gt;
## 4                0                0                0                  &lt;NA&gt;
##   elec_bill_totcost elec_bill_dk elec_use elec_out gas_bill_totcost
## 1               207            0        1        0               60
## 2               100            0        2        0               50
## 3               300            0        2        1               NA
## 4               136            0        2        0               89
##   gas_bill_dk gas_use enrgy_steps_lghts enrgy_steps_ac enrgy_steps_heat
## 1           0       1                 1              1                1
## 2           0       1                 1              1                1
## 3          NA      NA                 0              0                0
## 4           0       2                 1              1                1
##   enrgy_steps_savappl enrgy_steps_unplug enrgy_steps_insul
## 1                   0                  0                 0
## 2                   0                  0                 0
## 3                   0                  0                 0
## 4                   0                  0                 0
##   enrgy_steps_savdoor enrgy_steps_othr enrgy_steps_othr_spec party
## 1                   0                0                  &lt;NA&gt;     4
## 2                   0                0                  &lt;NA&gt;     1
## 3                   0                0                  &lt;NA&gt;     2
## 4                   0                0                  &lt;NA&gt;     3
##    party_spec lean ideol cncrn_secur cncrn_health cncrn_enrgy cncrn_trns
## 1 Libertarian   NA     7          10            9           9          9
## 2        &lt;NA&gt;   NA     4           8            9           6          5
## 3        &lt;NA&gt;   NA     6           7            7           4          0
## 4        &lt;NA&gt;    1     2           8            8           4          8
##   cncrn_tax cncrn_edu cncrn_econ glbwrm_ok time_outside spent_outside
## 1         7        10         10         0            1             2
## 2        10        10         10         1            2             2
## 3         8         5          6         0            1             3
## 4         9         9          9         1            2             2
##   cmpr_time_outside hlth_status nghbrhd_deal nghbrhd_close nghbrhd_care
## 1                 1           3            7             5            1
## 2                 3           5            4             4            2
## 3                 2           3            5             6            3
## 4                 1           4            5             3            3
##   nghbrhd_not nghbrhd_eyes nghbrhd_help wthr_info_paper    wthr_info_web
## 1           1            7            7           Never            Never
## 2           2            6            4            &lt;NA&gt;             &lt;NA&gt;
## 3           2            6            2           Never            Never
## 4           2            3            6           Never About once a day
##   wthr_info_govweb         wthr_info_loctv         wthr_info_cabtv
## 1            Never     Several times a day Less than once per week
## 2             &lt;NA&gt;     Several times a day                    &lt;NA&gt;
## 3            Never        About once a day                   Never
## 4            Never Less than once per week Less than once per week
##           wthr_info_radio           wthr_info_fam       wthr_info_soc
## 1     Several times a day        About once a day    About once a day
## 2     Several times a day                    &lt;NA&gt;                &lt;NA&gt;
## 3 Less than once per week Less than once per week               Never
## 4 Less than once per week     Several times a day Several times a day
##   wthr_info_othr wthr_info_othr_spec dot_answr click_bluedot
## 1           &lt;NA&gt;                &lt;NA&gt;        NA             1
## 2           &lt;NA&gt;                &lt;NA&gt;        NA             1
## 3           &lt;NA&gt;                &lt;NA&gt;         2             1
## 4          Never                &lt;NA&gt;         1             0
##   begin_datetime end_datetime is_statewide hispanic race race_spec
## 1     1481587679   1481588604            1        0    1      &lt;NA&gt;
## 2     1480998150   1481000446            1        0    1      &lt;NA&gt;
## 3     1481312462   1481755390            1        0    1      &lt;NA&gt;
## 4     1484166842   1484167687            1        0    1      &lt;NA&gt;
##   evntexp_heat evntexp_ethqk evntfreq_heat evntfreq_ethqk evntfutfreq_heat
## 1            0             1             2              3                2
## 2            1             1             3              3                2
## 3            0             0             2              3                2
## 4            0             0             2              3                2
##   evntfutfreq_ethqk wtr_steps_leaks wtr_steps_ldry enrgy_sourc_geo
## 1                 3               0              0               0
## 2                 3               0              0               0
## 3                 2               0              0               0
## 4                 3               0              0               0
##   enrgy_steps_bulbs         wthr_info_phone mntain_flwr mntain_veg glbcc
## 1                 1  Several times per week           1          0     0
## 2                 1                    &lt;NA&gt;           1          1     1
## 3                 0 Less than once per week           0          0     0
## 4                 0     Several times a day           1          0     1
##   glbcc_cert glbcc_risk is_payne is_okcity evntexp_hail evntfreq_hail
## 1          7          3        0         0            0             2
## 2          4          4        0         0            0             1
## 3          6          5        0         0            0             2
## 4          8          7        0         0            0             2
##   evntfutfreq_hail wtr_freq cncrn_natres confirm_zip is_kiamichi
## 1                2        2            4       73078           0
## 2                3        4            6       74008           0
## 3                2        1            4       73053           0
## 4                2        2            6       73069           0
##   is_washita is_canadian                                   consent
## 1          0           0 Yes, I agree to participate in this study
## 2          0           0 Yes, I agree to participate in this study
## 3          0           0 Yes, I agree to participate in this study
## 4          0           0 Yes, I agree to participate in this study
##   home_lot ethqk_risk ethqk_cause ethqk_risk_mgmt ethqk_risk_rand
## 1        2          7           3               8      regulating
## 2        2          5           2               7      regulating
## 3        3          3           1               3        managing
## 4        2          7           2               7      regulating
##   ethqk_risk_fed_mgmt glbwrm_risk_rand glbwrm_risk_mgmt
## 1                   0         managing                0
## 2                   7         managing                4
## 3                   3         managing                3
## 4                   6         managing                7
##   glbwrm_risk_fed_mgmt know_fire purp_fire
## 1                    0         1         1
## 2                    9         1         1
## 3                    3         1         1
## 4                    8         1         1
##                                                                                              purp_fire_exp
## 1        To burn away brush within a controlled area so as not to provide kindling for a future wild fire.
## 2                 To burn the grass to decrease the risk of wildfires and new grass to grow in the spring 
## 3 Usually it&#39;s done by farmers to burn off their field stubble. The ash is good fertilization, I&#39;ve heard.
## 4 Used to get rid of something ie trash, brush, grass to either destroy it or may way for something else. 
##   useful_val_fire use_fire_rural nofire_notrain nofire_notnear nofire_othr
## 1               1             NA             NA             NA          NA
## 2               1             NA             NA             NA          NA
## 3               2              0              0              1           0
## 4               1             NA             NA             NA          NA
##   nofire_othr_spec urban_fire fire_implmnt okelec_foss okelec_nuc
## 1             &lt;NA&gt;         NA            1          50         25
## 2             &lt;NA&gt;          0            1          70         10
## 3             &lt;NA&gt;         NA           NA          76          0
## 4             &lt;NA&gt;          1            1          25         25
##   okelec_renew solar_prop heard_netmeter net_met_info ok_net_met vote
## 1           25          0              0            1          4    1
## 2           20          0              0            1          1    1
## 3           24          0              0            1          4    1
## 4           50          0              0            1          3    1
##   vote_2016 vote_cand vote_cand_spec vote_cand_spt f.gender f.party
## 1         1         2           &lt;NA&gt;             3    Women   Other
## 2         1         1           &lt;NA&gt;             2    Women     Dem
## 3         1         0           &lt;NA&gt;             4    Women     Rep
## 4         1         1           &lt;NA&gt;             2    Women     Ind
##   f.party.2 r.ind   f.ind r.rep   f.rep r.dem   f.dem             f.edu
## 1      &lt;NA&gt;     0 Non Ind     0 Non Rep     0 Non Dem Bachelor&#39;s Degree
## 2       Dem     0 Non Ind     0 Non Rep     1     Dem 2 year/Associates
## 3       Rep     0 Non Ind     1     Rep     0 Non Dem Bachelor&#39;s Degree
## 4       Ind     1     Ind     0 Non Rep     0 Non Dem 2 year/Associates
##   f.race r.race f.race.2 r.white f.white r.AfricanAmer   f.AfricanAmer
## 1  White      1    White       1   White             0 Non AfricanAmer
## 2  White      1    White       1   White             0 Non AfricanAmer
## 3  White      1    White       1   White             0 Non AfricanAmer
## 4  White      1    White       1   White             0 Non AfricanAmer
##   r.age f.age     f.age.2 r.ideology   f.ideology f.glbwrm_ok n.party
## 1     3 41-50 (17.9,58.5]          3 Conservative          No       4
## 2     3 41-50 (17.9,58.5]          2     Moderate         Yes       1
## 3     3 41-50 (17.9,58.5]          3 Conservative          No       2
## 4     3 41-50 (17.9,58.5]          1      Liberal         Yes       3
##   r.ideol      f.ideol r.AfAm               f.AfAm
## 1       3 Conservative      0 Non African-American
## 2       2     Moderate      0 Non African-American
## 3       3 Conservative      0 Non African-American
## 4       1      Liberal      0 Non African-American
##  [ reached &#39;max&#39; / getOption(&quot;max.print&quot;) -- omitted 14 rows ]</code></pre>
<p>Similar to <code>filter()</code>, you can use the <code>select()</code> function from the <code>dplyr()</code> package to create a new data set that includes a few variables of interest.</p>
<p><strong>Note</strong>: <code>select</code> is a very common verb in R, and therefore is often masked by other packages. If you encounter an error when using <code>select()</code>, include <code>dplyr::</code> before calling the function, so that R knows which version of <code>select()</code> to use. Follow it up by using <code>na.omit()</code> to remove missing observations:</p>
<div class="sourceCode" id="cb100"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb100-1" data-line-number="1">ds.sub &lt;-<span class="st"> </span>ds <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb100-2" data-line-number="2"><span class="st">  </span><span class="kw">select</span>(gender, age, income, education, ideol, glbcc_cert) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb100-3" data-line-number="3"><span class="st">  </span><span class="kw">na.omit</span>()</a></code></pre></div>
<p>The next verb is <code>arrange()</code>, which allows you to sort your data in ascending or descending order by a particular specification. Recall the previous code chunk where we filtered the data to include only women who are age 42. Adding another pipe operator, %&gt;%, and <code>arrange()</code> will allow us to examine the data further. Use the <code>arrange()</code> function to sort the data by education:</p>
<div class="sourceCode" id="cb101"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb101-1" data-line-number="1">ds.sub <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb101-2" data-line-number="2"><span class="st">  </span><span class="kw">filter</span>(gender <span class="op">==</span><span class="st"> </span><span class="dv">0</span>, age <span class="op">==</span><span class="st"> </span><span class="dv">42</span>) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb101-3" data-line-number="3"><span class="st">  </span><span class="kw">arrange</span>(education)</a></code></pre></div>
<pre><code>##    gender age income education ideol glbcc_cert
## 1       0  42  75000         4     4          5
## 2       0  42 150000         4     6          6
## 3       0  42 120000         5     4          4
## 4       0  42  95000         5     2          8
## 5       0  42  95000         5     4          8
## 6       0  42  65000         5     6          7
## 7       0  42  80000         5     6          5
## 8       0  42 120000         5     4          4
## 9       0  42  86000         6     7          7
## 10      0  42  90000         6     6          6
## 11      0  42  36000         6     6          5
## 12      0  42 120000         6     2         10
## 13      0  42  90000         6     6          6
## 14      0  42  50000         6     6          6
## 15      0  42 115000         6     6          5
## 16      0  42  80000         6     2          7
## 17      0  42 155000         6     7          8</code></pre>
<p>The <code>slice()</code> function selects a set amount of observations from the data. Use <code>slice()</code> to select the first 10 observations from the data:</p>
<div class="sourceCode" id="cb103"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb103-1" data-line-number="1">ds.new &lt;-<span class="st"> </span>ds.sub <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb103-2" data-line-number="2"><span class="st">  </span><span class="kw">slice</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">10</span>)</a></code></pre></div>
<p>The <code>mutate()</code> verb allows you to either change an existing variable or create a new one. For example, we can create a new variable that returns income in increments of 1000s:</p>
<div class="sourceCode" id="cb104"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb104-1" data-line-number="1">ds.new <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb104-2" data-line-number="2"><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">inc_100 =</span> income <span class="op">/</span><span class="st"> </span><span class="dv">1000</span>)</a></code></pre></div>
<pre><code>##    gender age income education ideol glbcc_cert inc_100
## 1       1  50 160000         4     6          6     160
## 2       1  58  45000         4     3         10      45
## 3       0  52  40000         6     6          6      40
## 4       0  40  55000         4     4          0      55
## 5       0  44  33000         4     4          5      33
## 6       0  60  40000         6     2          5      40
## 7       1  67  50000         6     4          1      50
## 8       0  66  25000         6     7          8      25
## 9       0  44  70000         6     3          7      70
## 10      1  46  70000         4     7          9      70</code></pre>
<p>Suppose you wanted to examine summary statistics for the data. Perhaps you needed to know the average income of everyone in the survey. The <code>summarize()</code> verb can be used to do this, and more:</p>
<div class="sourceCode" id="cb106"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb106-1" data-line-number="1">ds.sub <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb106-2" data-line-number="2"><span class="st">  </span><span class="kw">summarize</span>(<span class="dt">mean_inc =</span> <span class="kw">mean</span>(income))</a></code></pre></div>
<pre><code>##   mean_inc
## 1  70597.7</code></pre>
<p>Combining the <code>summarize()</code> verb with the <code>filter()</code> verb allows you to summarize a more specific set of observations. To find the average income of men only, filter the data to include only men, then summarize:</p>
<div class="sourceCode" id="cb108"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb108-1" data-line-number="1">ds.sub <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb108-2" data-line-number="2"><span class="st">  </span><span class="kw">filter</span>(gender <span class="op">==</span><span class="st"> </span><span class="dv">1</span>) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb108-3" data-line-number="3"><span class="st">  </span><span class="kw">summarize</span>(<span class="dt">mean_inc =</span> <span class="kw">mean</span>(income))</a></code></pre></div>
<pre><code>##   mean_inc
## 1 80564.86</code></pre>
<p>Summarize can also be used to return mulitple values of interest:</p>
<div class="sourceCode" id="cb110"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb110-1" data-line-number="1">ds.sub <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb110-2" data-line-number="2"><span class="st">  </span><span class="kw">filter</span>(gender <span class="op">==</span><span class="st"> </span><span class="dv">1</span>) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb110-3" data-line-number="3"><span class="st">  </span><span class="kw">summarize</span>(<span class="dt">mean_inc =</span> <span class="kw">mean</span>(income), <span class="dt">med_inc =</span> <span class="kw">median</span>(income), <span class="dt">sd_inc =</span> <span class="kw">sd</span>(income))</a></code></pre></div>
<pre><code>##   mean_inc med_inc   sd_inc
## 1 80564.86   67000 68869.39</code></pre>
<p>The code chunk above returns the mean, median, and standard deviation of income for men in the data set.</p>
<p>Filtering for multiple categories can be tedious. Fortunately, there is a tidyverse function that will return desired information for each group in a variable. For example, we can get the mean, median, and standard deviation of the income variable for men and women by using the <code>group_by()</code> verb and indicating “gender”:</p>
<div class="sourceCode" id="cb112"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb112-1" data-line-number="1">ds.sub <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb112-2" data-line-number="2"><span class="st">  </span><span class="kw">group_by</span>(gender) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb112-3" data-line-number="3"><span class="st">  </span><span class="kw">summarize</span>(<span class="dt">mean_inc =</span> <span class="kw">mean</span>(income), <span class="dt">med_inc =</span> <span class="kw">median</span>(income), <span class="dt">sd_inc =</span> <span class="kw">sd</span>(income))</a></code></pre></div>
<pre><code>## # A tibble: 2 x 4
##   gender mean_inc med_inc sd_inc
##    &lt;int&gt;    &lt;dbl&gt;   &lt;dbl&gt;  &lt;dbl&gt;
## 1      0   63598.   50000 51486.
## 2      1   80565.   67000 68869.</code></pre>
<p>The <code>group_by</code> verb can be used to find lots of information. Perhaps you wanted to find the average level of belief that humans cause cliamte change by ideology level:</p>
<div class="sourceCode" id="cb114"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb114-1" data-line-number="1">ds.sub <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb114-2" data-line-number="2"><span class="st">  </span><span class="kw">group_by</span>(ideol) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb114-3" data-line-number="3"><span class="st">  </span><span class="kw">summarize</span>(<span class="dt">mean_glbcc_cert =</span> <span class="kw">mean</span>(glbcc_cert))</a></code></pre></div>
<pre><code>## # A tibble: 7 x 2
##   ideol mean_glbcc_cert
##   &lt;int&gt;           &lt;dbl&gt;
## 1     1            9.05
## 2     2            8.26
## 3     3            7.63
## 4     4            6.17
## 5     5            5.91
## 6     6            5.90
## 7     7            6.76</code></pre>
<p>The ideology variable runs from 1 to 7, with 1 being very liberal and 7 being very conservative. It is clear that liberals, on average, are more certain that humans cause climate change. The <code>group_by()</code> verb can also be used to look at multiple groups at once. We can create the same table as above, but this time break it down by ideology and gender:</p>
<div class="sourceCode" id="cb116"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb116-1" data-line-number="1">ds.sub <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb116-2" data-line-number="2"><span class="st">  </span><span class="kw">group_by</span>(gender, ideol) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb116-3" data-line-number="3"><span class="st">  </span><span class="kw">summarize</span>(<span class="dt">mean_glbcc_cert =</span> <span class="kw">mean</span>(glbcc_cert))</a></code></pre></div>
<pre><code>## # A tibble: 14 x 3
## # Groups:   gender [2]
##    gender ideol mean_glbcc_cert
##     &lt;int&gt; &lt;int&gt;           &lt;dbl&gt;
##  1      0     1            9.22
##  2      0     2            8.15
##  3      0     3            7.42
##  4      0     4            5.95
##  5      0     5            5.81
##  6      0     6            5.73
##  7      0     7            6.52
##  8      1     1            8.80
##  9      1     2            8.46
## 10      1     3            7.85
## 11      1     4            6.69
## 12      1     5            6.04
## 13      1     6            6.09
## 14      1     7            7.06</code></pre>
</div>
<div id="other-methods-of-exploring-your-data" class="section level3">
<h3><span class="header-section-number">3.3.2</span> Other Methods of Exploring Your Data</h3>
<p>There are many functions in the tidyverse that can be used for data exploration. By loading the <code>tidyverse</code> package at the beginning of the lab, most of these functions should be readily available. The <code>glimpse()</code> verb returns an overall breakdown of what is contained in your data set:</p>
<div class="sourceCode" id="cb118"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb118-1" data-line-number="1">ds.sub <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb118-2" data-line-number="2"><span class="st">  </span><span class="kw">glimpse</span>()</a></code></pre></div>
<pre><code>## Observations: 2,276
## Variables: 6
## $ gender     &lt;int&gt; 1, 1, 0, 0, 0, 0, 1, 0, 0, 1, 1, 0, 1, 1, 1, 1, 1, 0,…
## $ age        &lt;int&gt; 50, 58, 52, 40, 44, 60, 67, 66, 44, 46, 39, 51, 25, 7…
## $ income     &lt;dbl&gt; 160000, 45000, 40000, 55000, 33000, 40000, 50000, 250…
## $ education  &lt;int&gt; 4, 4, 6, 4, 4, 6, 6, 6, 6, 4, 5, 5, 2, 6, 1, 6, 2, 4,…
## $ ideol      &lt;int&gt; 6, 3, 6, 4, 4, 2, 4, 7, 3, 7, 4, 6, 4, 3, 6, 2, 2, 4,…
## $ glbcc_cert &lt;int&gt; 6, 10, 6, 0, 5, 5, 1, 8, 7, 9, 6, 4, 6, 7, 7, 8, 10, …</code></pre>
<p>In the previous section we used <code>summarize()</code> to get breakdowns of ceratin variables. If you wanted to get diagnostics on all the variables in your data, use the <code>skim()</code> function from the <code>skimr</code> package:</p>
<div class="sourceCode" id="cb120"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb120-1" data-line-number="1"><span class="kw">skim_with</span>(<span class="dt">numeric =</span> <span class="kw">list</span>(<span class="dt">hist =</span> <span class="ot">NULL</span>))</a>
<a class="sourceLine" id="cb120-2" data-line-number="2"><span class="kw">skim_with</span>(<span class="dt">integer =</span> <span class="kw">list</span>(<span class="dt">hist =</span> <span class="ot">NULL</span>))</a>
<a class="sourceLine" id="cb120-3" data-line-number="3">ds.sub <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb120-4" data-line-number="4"><span class="st">  </span><span class="kw">skim</span>()</a></code></pre></div>
<pre><code>## Skim summary statistics
##  n obs: 2276 
##  n variables: 6 
## 
## ── Variable type:integer ─────────────────────────────────────────────────────────────────────────
##    variable missing complete    n  mean    sd p0   p25 p50 p75 p100
##         age       0     2276 2276 60.11 14.09 18 51.75  62  70   99
##   education       0     2276 2276  5.09  1.81  1  4      6   6    8
##      gender       0     2276 2276  0.41  0.49  0  0      0   1    1
##  glbcc_cert       0     2276 2276  6.63  2.71  0  5      7   9   10
##       ideol       0     2276 2276  4.64  1.74  1  4      5   6    7
## 
## ── Variable type:numeric ─────────────────────────────────────────────────────────────────────────
##  variable missing complete    n    mean       sd    p0   p25   p50   p75
##    income       0     2276 2276 70597.7 59850.38 10000 35000 59000 90000
##    p100
##  900000</code></pre>
<p>This provides loads of useful incormation. As demonstrated in teh previous section, you can combine different tidyverse functions together in order to maximize efficiency. For example, combining <code>group_by()</code> and <code>skim()</code> provide breakdowns of all the variables by gender:</p>
<div class="sourceCode" id="cb122"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb122-1" data-line-number="1"><span class="kw">skim_with</span>(<span class="dt">numeric =</span> <span class="kw">list</span>(<span class="dt">hist =</span> <span class="ot">NULL</span>))</a>
<a class="sourceLine" id="cb122-2" data-line-number="2"><span class="kw">skim_with</span>(<span class="dt">integer =</span> <span class="kw">list</span>(<span class="dt">hist =</span> <span class="ot">NULL</span>))</a>
<a class="sourceLine" id="cb122-3" data-line-number="3">ds.sub <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb122-4" data-line-number="4"><span class="st">  </span><span class="kw">group_by</span>(gender) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb122-5" data-line-number="5"><span class="st">  </span><span class="kw">skim</span>()</a></code></pre></div>
<pre><code>## Skim summary statistics
##  n obs: 2276 
##  n variables: 6 
##  group variables: gender 
## 
## ── Variable type:integer ─────────────────────────────────────────────────────────────────────────
##  gender   variable missing complete    n  mean    sd p0 p25 p50 p75 p100
##       0        age       0     1337 1337 59.73 14.66 18  50  61  71   94
##       0  education       0     1337 1337  4.98  1.77  1   4   6   6    8
##       0 glbcc_cert       0     1337 1337  6.48  2.71  0   5   7   9   10
##       0      ideol       0     1337 1337  4.54  1.73  1   4   5   6    7
##       1        age       0      939  939 60.64 13.22 22  53  62  70   99
##       1  education       0      939  939  5.26  1.86  1   4   6   7    8
##       1 glbcc_cert       0      939  939  6.84  2.69  0   5   7   9   10
##       1      ideol       0      939  939  4.79  1.74  1   4   5   6    7
## 
## ── Variable type:numeric ─────────────────────────────────────────────────────────────────────────
##  gender variable missing complete    n     mean       sd    p0   p25   p50
##       0   income       0     1337 1337 63597.58 51485.97 10000 30000 50000
##       1   income       0      939  939 80564.86 68869.39 10000 40000 67000
##     p75   p100
##   80000 750000
##  100000 900000</code></pre>
<p>There are a variety of operators that can be used when working with your data. These Boolean operators assist with building data subsets in R:</p>
<ol style="list-style-type: decimal">
<li><span class="math inline">\(&lt;\)</span> less than</li>
<li><span class="math inline">\(&lt;=\)</span> less than or equal to</li>
<li><span class="math inline">\(&gt;\)</span> greater than</li>
<li><span class="math inline">\(&gt;=\)</span> greater than or equal to</li>
<li><span class="math inline">\(==\)</span> exactly equal to</li>
<li><span class="math inline">\(!=\)</span> not equal to</li>
<li><span class="math inline">\(!\)</span> not (example: !x - pronounced “not x” )</li>
<li><span class="math inline">\(|\)</span> or (example: x | y - pronounced “x OR y”)</li>
<li>&amp; and (example: x &amp; y - pronounced “x AND y”)</li>
</ol>
</div>
</div>
<div id="working-with-nominal-data" class="section level2">
<h2><span class="header-section-number">3.4</span> Working with Nominal Data</h2>
<p>Often times data is nominal. This is data that does not necessarily have a numeric value, but rather is categorized by a word or label (e.g., race, political party, etc.). The factored <code>party</code> variable is an example.</p>
<div class="sourceCode" id="cb124"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb124-1" data-line-number="1"><span class="kw">table</span>(ds<span class="op">$</span>f.party)</a></code></pre></div>
<pre><code>## 
##   Dem   Rep   Ind Other 
##   869  1185   356    91</code></pre>
<p>If analyzing the data, the “Other” category does not explain much. In this case, recoding the Other responses as NA will exclude Other from summaries.</p>
<div class="sourceCode" id="cb126"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb126-1" data-line-number="1">ds<span class="op">$</span>f.party<span class="fl">.2</span> &lt;-<span class="st"> </span>car<span class="op">::</span><span class="kw">recode</span>(ds<span class="op">$</span>f.party, <span class="st">&quot;&#39;Dem&#39; = &#39;Dem&#39;; &#39;Rep&#39; = &#39;Rep&#39;; &#39;Ind&#39; = &#39;Ind&#39;;</span></a>
<a class="sourceLine" id="cb126-2" data-line-number="2"><span class="st">                            &#39;Other&#39; = NA; else = NA; NA = NA&quot;</span>)</a>
<a class="sourceLine" id="cb126-3" data-line-number="3"><span class="kw">table</span>(ds<span class="op">$</span>f.party<span class="fl">.2</span>)</a></code></pre></div>
<pre><code>## 
##  Dem  Ind  Rep 
##  869  356 1185</code></pre>
<p><strong>Note:</strong> When recoding a factored variable, label names must be in in apostrophe marks <strong>within the quotation marks</strong>.</p>
<div id="finding-the-mode" class="section level3">
<h3><span class="header-section-number">3.4.1</span> Finding the Mode</h3>
<p>When working with nominal data, there are some inapplicable statistics. For example, the mean for the factored political party variable does not exist. However, finding the mode for nominal data is useful. Recall from mathematics that the mode is the value, or in this case the label, that occurs the most often.</p>
<p>A simple way to find the mode is to use the <code>count</code> verb from the <code>tidyverse</code>. Use <code>count</code> to find the mode of the factored political party variable:</p>
<div class="sourceCode" id="cb128"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb128-1" data-line-number="1">ds <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb128-2" data-line-number="2"><span class="st">  </span><span class="kw">count</span>(f.party<span class="fl">.2</span>)</a></code></pre></div>
<pre><code>## Warning: Factor `f.party.2` contains implicit NA, consider using
## `forcats::fct_explicit_na`</code></pre>
<pre><code>## # A tibble: 4 x 2
##   f.party.2     n
##   &lt;fct&gt;     &lt;int&gt;
## 1 Dem         869
## 2 Ind         356
## 3 Rep        1185
## 4 &lt;NA&gt;        137</code></pre>
<p>Including <code>sort = TRUE</code> will tell R to sort the values in descending order, putting the modal value first:</p>
<div class="sourceCode" id="cb131"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb131-1" data-line-number="1">ds <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb131-2" data-line-number="2"><span class="st">  </span><span class="kw">count</span>(f.party<span class="fl">.2</span>, <span class="dt">sort =</span> <span class="ot">TRUE</span>)</a></code></pre></div>
<pre><code>## Warning: Factor `f.party.2` contains implicit NA, consider using
## `forcats::fct_explicit_na`</code></pre>
<pre><code>## # A tibble: 4 x 2
##   f.party.2     n
##   &lt;fct&gt;     &lt;int&gt;
## 1 Rep        1185
## 2 Dem         869
## 3 Ind         356
## 4 &lt;NA&gt;        137</code></pre>
<p>To get the percentage breakdown of the political parties, use the <code>count</code> verb along with the <code>mutate</code> verb. To get the percent of each category, you would take the n size of that category and divide it by the total n size!</p>
<div class="sourceCode" id="cb134"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb134-1" data-line-number="1">ds <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb134-2" data-line-number="2"><span class="st">  </span><span class="kw">count</span>(f.party<span class="fl">.2</span>) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb134-3" data-line-number="3"><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">percent =</span> n <span class="op">/</span><span class="st"> </span><span class="kw">sum</span>(n))</a></code></pre></div>
<pre><code>## Warning: Factor `f.party.2` contains implicit NA, consider using
## `forcats::fct_explicit_na`</code></pre>
<pre><code>## # A tibble: 4 x 3
##   f.party.2     n percent
##   &lt;fct&gt;     &lt;int&gt;   &lt;dbl&gt;
## 1 Dem         869  0.341 
## 2 Ind         356  0.140 
## 3 Rep        1185  0.465 
## 4 &lt;NA&gt;        137  0.0538</code></pre>
<p>Perhaps you’ve noticed that the inclusion of NAs complicates the percentage numbers. NAs can be dropped by using the <code>drop_na()</code> function and specifying the variable of interest. Do that, and then construct the same table as above:</p>
<div class="sourceCode" id="cb137"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb137-1" data-line-number="1">ds <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb137-2" data-line-number="2"><span class="st">  </span><span class="kw">drop_na</span>(f.party<span class="fl">.2</span>) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb137-3" data-line-number="3"><span class="st">  </span><span class="kw">count</span>(f.party<span class="fl">.2</span>) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb137-4" data-line-number="4"><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">percent =</span> n <span class="op">/</span><span class="st"> </span><span class="kw">sum</span>(n))</a></code></pre></div>
<pre><code>## # A tibble: 3 x 3
##   f.party.2     n percent
##   &lt;fct&gt;     &lt;int&gt;   &lt;dbl&gt;
## 1 Dem         869   0.361
## 2 Ind         356   0.148
## 3 Rep        1185   0.492</code></pre>
</div>
<div id="visualizing-nominal-data" class="section level3">
<h3><span class="header-section-number">3.4.2</span> Visualizing Nominal Data</h3>
<p>R has nearly countless ways to visualize data. <code>ggplot2</code> will be the primary visualization method for these labs. There are many different visualization packages and sets of packages, but <code>ggplot2</code> provides a consistent set of visualization tools that shares a common language and syntax. A great introcution to ggplot2 can be found here:
<a href="https://www.rstudio.com/wp-content/uploads/2015/03/ggplot2-cheatsheet.pdf" class="uri">https://www.rstudio.com/wp-content/uploads/2015/03/ggplot2-cheatsheet.pdf</a></p>
<p>To make a visualization with <code>ggplot2</code>, first call it with the <code>ggplot()</code> function, then specify what type of visualization you want to make. The steps are:</p>
<ol style="list-style-type: decimal">
<li>Call ggplot</li>
<li>Identify the dataset (<code>data</code>)</li>
<li>Specify the aesthetic mapping (<code>aes</code>)</li>
<li>Choose what type of visualization by using the <code>geom_</code> function.</li>
</ol>
<p>As a note, making a visualization with <code>ggplot2</code> requires multiple functions. Make sure to include a <code>+</code> sign after each function.</p>
<p>A good place to start is with a bar plot. To do this, use <code>geom_bar()</code>.</p>
<div class="sourceCode" id="cb139"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb139-1" data-line-number="1"> <span class="kw">ggplot</span>(ds, <span class="kw">aes</span>(f.party<span class="fl">.2</span>)) <span class="op">+</span></a>
<a class="sourceLine" id="cb139-2" data-line-number="2"><span class="st">  </span><span class="kw">geom_bar</span>()</a></code></pre></div>
<p><img src="_main_files/figure-html/2_bar1-1.png" width="384" style="display: block; margin: auto;" /></p>
<p>To create a visualization that only includes Democrats, Republicans, and Independents, use the <code>drop_na</code> function to filter out NAs, then pipe it to <code>ggplot2</code> Color can also be included by specifying <code>fill = f.party.2</code>. Note that inlcuding the <code>.</code> in place of the data set argument works when you pipe a dataset into <code>ggplot2</code>. Doing so tells R to use the data that is being piped into <code>ggplot2</code>.</p>
<div class="sourceCode" id="cb140"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb140-1" data-line-number="1">ds <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb140-2" data-line-number="2"><span class="st">  </span><span class="kw">drop_na</span>(f.party<span class="fl">.2</span>) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb140-3" data-line-number="3"><span class="st">  </span><span class="kw">ggplot</span>(., <span class="kw">aes</span>(f.party<span class="fl">.2</span>, <span class="dt">fill =</span> f.party<span class="fl">.2</span>)) <span class="op">+</span></a>
<a class="sourceLine" id="cb140-4" data-line-number="4"><span class="st">  </span><span class="kw">geom_bar</span>()</a></code></pre></div>
<p><img src="_main_files/figure-html/2_bar1.5-1.png" width="384" style="display: block; margin: auto;" /></p>
<p><code>ggplot2</code> has a default color pallete that it assigns to groups based on the order they appear in the data. However, matching the color red with Democrats and the color blue with Republicans might not make a lot of intuitive sense. By using the <code>scale_fill_manual()</code> function, specific colors can be specified.</p>
<div class="sourceCode" id="cb141"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb141-1" data-line-number="1">ds <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb141-2" data-line-number="2"><span class="st">  </span><span class="kw">drop_na</span>(f.party<span class="fl">.2</span>) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb141-3" data-line-number="3"><span class="st">  </span><span class="kw">ggplot</span>(., <span class="kw">aes</span>(f.party<span class="fl">.2</span>, <span class="dt">fill=</span>f.party<span class="fl">.2</span>)) <span class="op">+</span></a>
<a class="sourceLine" id="cb141-4" data-line-number="4"><span class="st">  </span><span class="kw">geom_bar</span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb141-5" data-line-number="5"><span class="st">  </span><span class="kw">scale_fill_manual</span>(<span class="dt">values =</span> <span class="kw">c</span>(<span class="st">&quot;blue&quot;</span>, <span class="st">&quot;green&quot;</span>, <span class="st">&quot;red&quot;</span>))</a></code></pre></div>
<p><img src="_main_files/figure-html/2_bar2-1.png" width="384" style="display: block; margin: auto;" /></p>
<p>Construct one more visualization. This time, include a title by using <code>ggtitle()</code> and axis labels by using <code>xlab()</code> and <code>ylab()</code>.</p>
<div class="sourceCode" id="cb142"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb142-1" data-line-number="1">ds <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb142-2" data-line-number="2"><span class="st">  </span><span class="kw">drop_na</span>(f.party<span class="fl">.2</span>) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb142-3" data-line-number="3"><span class="st">  </span><span class="kw">ggplot</span>(., <span class="kw">aes</span>(f.party<span class="fl">.2</span>, <span class="dt">fill =</span> f.party<span class="fl">.2</span>)) <span class="op">+</span></a>
<a class="sourceLine" id="cb142-4" data-line-number="4"><span class="st">  </span><span class="kw">geom_bar</span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb142-5" data-line-number="5"><span class="st">  </span><span class="kw">scale_fill_manual</span>(<span class="dt">values =</span> <span class="kw">c</span>(<span class="st">&quot;blue&quot;</span>, <span class="st">&quot;green&quot;</span>, <span class="st">&quot;red&quot;</span>)) <span class="op">+</span></a>
<a class="sourceLine" id="cb142-6" data-line-number="6"><span class="st">  </span><span class="kw">ggtitle</span>(<span class="st">&quot;Breakdown of Political Parties&quot;</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb142-7" data-line-number="7"><span class="st">  </span><span class="kw">xlab</span>(<span class="st">&quot;Political Party&quot;</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb142-8" data-line-number="8"><span class="st">  </span><span class="kw">ylab</span>(<span class="st">&quot;Count&quot;</span>)</a></code></pre></div>
<p><img src="_main_files/figure-html/2_bar3-1.png" width="384" style="display: block; margin: auto;" /></p>
</div>
</div>
<div id="working-with-ordinal-data" class="section level2">
<h2><span class="header-section-number">3.5</span> Working with Ordinal Data</h2>
<p>Recall that ordinal data is data that is assigned numeric values, but on an ordered scale. An example of ordinal data is education level (e.g., some high school is higher than no high school, a high school diploma is higher than some high school, some college is higher than high school, etc).</p>
<p>The <code>count()</code> function describes the <code>education</code> variable. Note that the <code>table()</code> function is a good way to look at categorical and ordinal data as well, but using <code>count()</code> allows us to see the NAs and is consistent with tidyverse syntax.</p>
<div class="sourceCode" id="cb143"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb143-1" data-line-number="1">ds <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb143-2" data-line-number="2"><span class="st">  </span><span class="kw">count</span>(education)</a></code></pre></div>
<pre><code>## # A tibble: 9 x 2
##   education     n
##       &lt;int&gt; &lt;int&gt;
## 1         1    41
## 2         2   341
## 3         3   132
## 4         4   524
## 5         5   205
## 6         6   713
## 7         7   438
## 8         8   149
## 9        NA     4</code></pre>
<p>The <code>education</code> variable contains 8 categories on an ordered scale. Factoring the <code>education</code> variable to apply labels will provide meaning to each value.</p>
<div class="sourceCode" id="cb145"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb145-1" data-line-number="1">ds<span class="op">$</span>f.education &lt;-<span class="st"> </span><span class="kw">factor</span>(ds<span class="op">$</span>education, <span class="dt">levels=</span><span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>, <span class="dv">6</span>, <span class="dv">7</span>, <span class="dv">8</span>), </a>
<a class="sourceLine" id="cb145-2" data-line-number="2">                   <span class="dt">labels=</span><span class="kw">c</span>(<span class="st">&quot;&lt; HS&quot;</span>, <span class="st">&quot;HS/GED&quot;</span>, <span class="st">&quot;Vocational/Technical&quot;</span>, </a>
<a class="sourceLine" id="cb145-3" data-line-number="3">                            <span class="st">&quot;Some College&quot;</span>, <span class="st">&quot;2 year/Associates&quot;</span>, <span class="st">&quot;Bachelor&#39;s Degree&quot;</span>, </a>
<a class="sourceLine" id="cb145-4" data-line-number="4">                            <span class="st">&quot;Master&#39;s degree&quot;</span>, <span class="st">&quot;PhD/JD/MD&quot;</span>))</a>
<a class="sourceLine" id="cb145-5" data-line-number="5">ds <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb145-6" data-line-number="6"><span class="st">  </span><span class="kw">count</span>(f.education)</a></code></pre></div>
<pre><code>## Warning: Factor `f.education` contains implicit NA, consider using
## `forcats::fct_explicit_na`</code></pre>
<pre><code>## # A tibble: 9 x 2
##   f.education              n
##   &lt;fct&gt;                &lt;int&gt;
## 1 &lt; HS                    41
## 2 HS/GED                 341
## 3 Vocational/Technical   132
## 4 Some College           524
## 5 2 year/Associates      205
## 6 Bachelor&#39;s Degree      713
## 7 Master&#39;s degree        438
## 8 PhD/JD/MD              149
## 9 &lt;NA&gt;                     4</code></pre>
<p>Including the <code>sort = TRUE</code> argument can return the modal education level.</p>
<div class="sourceCode" id="cb148"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb148-1" data-line-number="1">ds <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb148-2" data-line-number="2"><span class="st">  </span><span class="kw">count</span>(f.education, <span class="dt">sort =</span> <span class="ot">TRUE</span>)</a></code></pre></div>
<pre><code>## Warning: Factor `f.education` contains implicit NA, consider using
## `forcats::fct_explicit_na`</code></pre>
<pre><code>## # A tibble: 9 x 2
##   f.education              n
##   &lt;fct&gt;                &lt;int&gt;
## 1 Bachelor&#39;s Degree      713
## 2 Some College           524
## 3 Master&#39;s degree        438
## 4 HS/GED                 341
## 5 2 year/Associates      205
## 6 PhD/JD/MD              149
## 7 Vocational/Technical   132
## 8 &lt; HS                    41
## 9 &lt;NA&gt;                     4</code></pre>
<p>The <code>barplot()</code> function will visualize education levels.</p>
<div class="sourceCode" id="cb151"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb151-1" data-line-number="1"><span class="kw">ggplot</span>(ds, <span class="kw">aes</span>(f.education)) <span class="op">+</span></a>
<a class="sourceLine" id="cb151-2" data-line-number="2"><span class="st">  </span><span class="kw">geom_bar</span>() </a></code></pre></div>
<p><img src="_main_files/figure-html/2_ord4-1.png" width="576" style="display: block; margin: auto;" /></p>
<p>Notice the very muddled labels. One way to solve this is to flip the coordinates of the plot by using <code>coord_flip()</code>:</p>
<div class="sourceCode" id="cb152"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb152-1" data-line-number="1"><span class="kw">ggplot</span>(ds, <span class="kw">aes</span>(f.education)) <span class="op">+</span></a>
<a class="sourceLine" id="cb152-2" data-line-number="2"><span class="st">  </span><span class="kw">geom_bar</span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb152-3" data-line-number="3"><span class="st">  </span><span class="kw">coord_flip</span>()</a></code></pre></div>
<p><img src="_main_files/figure-html/2_ord4.5-1.png" width="576" style="display: block; margin: auto;" /></p>
<p>More detail is available by adding colors. There are a few different methods of adding colors using ggplot. Include <code>fill = f.education</code> to indicate that the bars will be filled with color, and <code>scale_fill_manual()</code> to indiciate the colors:</p>
<div class="sourceCode" id="cb153"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb153-1" data-line-number="1"><span class="kw">ggplot</span>(ds, <span class="kw">aes</span>(f.education, <span class="dt">fill =</span> f.education)) <span class="op">+</span></a>
<a class="sourceLine" id="cb153-2" data-line-number="2"><span class="st">  </span><span class="kw">geom_bar</span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb153-3" data-line-number="3"><span class="st">  </span><span class="kw">scale_fill_manual</span>(<span class="dt">values =</span> <span class="kw">c</span>(<span class="st">&quot;#fbb4ae&quot;</span>, <span class="st">&quot;#b3cde3&quot;</span>, <span class="st">&quot;#ccebc5&quot;</span>, <span class="st">&quot;#decbe4&quot;</span>,</a>
<a class="sourceLine" id="cb153-4" data-line-number="4">                               <span class="st">&quot;#fed9a6&quot;</span>, <span class="st">&quot;#ffffcc&quot;</span>, <span class="st">&quot;#e5d8bd&quot;</span>, <span class="st">&quot;#d3d3d3&quot;</span>)) <span class="op">+</span></a>
<a class="sourceLine" id="cb153-5" data-line-number="5"><span class="st">  </span><span class="kw">coord_flip</span>()</a></code></pre></div>
<p><img src="_main_files/figure-html/2_ord5-1.png" width="576" style="display: block; margin: auto;" /></p>
<p><strong>Note:</strong> The colors in the previous example are hexadecimal colors. Color schemes are available via the following website: <a href="http://colorbrewer2.org/" class="uri">http://colorbrewer2.org/</a></p>
</div>
<div id="working-with-interval-data" class="section level2">
<h2><span class="header-section-number">3.6</span> Working with Interval Data</h2>
<p>Interval data is similar to ordinal data, but with interval data the difference between levels is meaningful. A good example is age, in which the difference between 23 and 24 is the same as the difference between 56 and 57, and so on.</p>
<p>The <code>psych</code> package provides a <code>describe()</code> function. The <code>describe()</code> function is useful to examine variables.</p>
<div class="sourceCode" id="cb154"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb154-1" data-line-number="1"><span class="kw">describe</span>(ds<span class="op">$</span>age)</a></code></pre></div>
<pre><code>##    vars    n  mean    sd median trimmed   mad min max range  skew kurtosis
## X1    1 2547 60.37 14.21     62   61.01 13.34  18  99    81 -0.39    -0.24
##      se
## X1 0.28</code></pre>
<p>Find the modal value of <code>age</code>:</p>
<div class="sourceCode" id="cb156"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb156-1" data-line-number="1">ds <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb156-2" data-line-number="2"><span class="st">  </span><span class="kw">count</span>(age, <span class="dt">sort =</span> <span class="ot">TRUE</span>)</a></code></pre></div>
<pre><code>## # A tibble: 78 x 2
##      age     n
##    &lt;int&gt; &lt;int&gt;
##  1    65    88
##  2    62    86
##  3    60    79
##  4    68    78
##  5    69    78
##  6    64    71
##  7    67    71
##  8    72    71
##  9    57    70
## 10    63    69
## # … with 68 more rows</code></pre>
<p>The modal value is 65.</p>
<p>A histogram is the appropriate visualization for interval data. Histograms returns values on a continuous scale as opposed to individual values. To make a histogram, follow the same basic steps as before, but this time use <code>geom_histogram()</code> instead.
`</p>
<div class="sourceCode" id="cb158"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb158-1" data-line-number="1"><span class="kw">ggplot</span>(ds, <span class="kw">aes</span>(age)) <span class="op">+</span></a>
<a class="sourceLine" id="cb158-2" data-line-number="2"><span class="st">  </span><span class="kw">geom_histogram</span>() </a></code></pre></div>
<pre><code>## `stat_bin()` using `bins = 30`. Pick better value with `binwidth`.</code></pre>
<p><img src="_main_files/figure-html/2_hist-1.png" width="384" style="display: block; margin: auto;" /></p>
<p>To look at the density distribution, use <code>geom_density()</code></p>
<div class="sourceCode" id="cb160"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb160-1" data-line-number="1"><span class="kw">ggplot</span>(ds, <span class="kw">aes</span>(age)) <span class="op">+</span></a>
<a class="sourceLine" id="cb160-2" data-line-number="2"><span class="st">  </span><span class="kw">geom_density</span>()</a></code></pre></div>
<p><img src="_main_files/figure-html/2_dens-1.png" width="384" style="display: block; margin: auto;" /></p>
<p>To adjust the bandwidth, use <code>adjust =</code> to specify a value.</p>
<div class="sourceCode" id="cb161"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb161-1" data-line-number="1"><span class="kw">ggplot</span>(ds, <span class="kw">aes</span>(age)) <span class="op">+</span></a>
<a class="sourceLine" id="cb161-2" data-line-number="2"><span class="st">  </span><span class="kw">geom_density</span>(<span class="dt">adjust =</span> <span class="dv">3</span>)</a></code></pre></div>
<p><img src="_main_files/figure-html/2_dens2-1.png" width="384" style="display: block; margin: auto;" /></p>
<p>Last, a box plot can be generated via the <code>boxplot()</code> function. Technically a box plot in <code>ggplot2</code> requires both an x and y value, so simply indiciate <code>&quot;&quot;</code> for the x portion of the aesthetic.</p>
<div class="sourceCode" id="cb162"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb162-1" data-line-number="1"><span class="kw">ggplot</span>(ds, <span class="kw">aes</span>(<span class="dt">x =</span> <span class="st">&quot;&quot;</span>, <span class="dt">y =</span> age)) <span class="op">+</span></a>
<a class="sourceLine" id="cb162-2" data-line-number="2"><span class="st">  </span><span class="kw">geom_boxplot</span>()</a></code></pre></div>
<p><img src="_main_files/figure-html/2_box-1.png" width="384" style="display: block; margin: auto;" /></p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="basics-of-r.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="visualizing-data-probability-the-normal-distribution-and-z-scores.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"download": ["_main.pdf"],
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:" && /^https?:/.test(src))
      src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
