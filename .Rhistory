options(scipen = 999)
fit.poly <- lm(rating ~ poly(length, 2) + poly(budget_1m, 2) + poly(votes_1k, 2), data = ds)
fit.poly %>%
augment() %>%
melt(measure.vars = c("poly.length..2.", "poly.budget_1m..2.",
"poly.votes_1k..2.",
".fitted")) %>%
ggplot(., aes(value, .std.resid)) +
geom_point(shape = 1) +
geom_smooth(method = "loess") +
geom_hline(yintercept = 0) +
facet_wrap(~variable, scales = "free")
fit.poly <- lm(rating ~ poly(length, 2) + poly(budget_1m, 2) + poly(votes_1k, 2), data = ds)
fit1 %>%
augment() %>%
melt(measure.vars = c("length", "budget_1m", "votes_1k", ".fitted")) %>%
ggplot(., aes(value, .std.resid)) +
geom_point(shape=1) +
geom_smooth(method = loess) +
geom_hline(yintercept = 0) +
facet_wrap(~variable, scales = "free")
ds %>%
mutate(budget_1m = budget/1000000,
votes_1k = votes/1000,
f.year = factor(year)) -> ds
fit.poly <- lm(rating ~ poly(length, 2) + poly(budget_1m, 2) + poly(votes_1k, 2), data = ds)
melt.ds <- melt(ds, measure.vars = c("length", "budget_1m", "rating", "votes_1k"))
ggplot(melt.ds, aes(value)) +
geom_histogram(fill="#0000FF") +
facet_wrap(~variable, scale="free")
vote <- ggplot(ds, aes(votes_1k, rating, label = title)) +
geom_point(color = "#0000FF50") +
geom_smooth(method = "loess", se = FALSE, color = "green") +
geom_smooth(method = "lm", se = FALSE, color = "red") +
ggtitle("# of Votes and Rating")
ggplotly(vote)
library(car)
library(car)
library(reshape2)
library(psych)
library(psych)
library(tidyverse)
library(psych)
library(tidyverse)
library(skimr)
library(skimr)
ds <- read_csv("https://github.com/ripberjt/qrmlabs/raw/master/Class%20Data%20Set%20Factored.csv") %>%
mutate_if(is.character, factor)
table(ds$f.party.2)
str(ds$f.party.2)
ds <- read_csv("https://github.com/ripberjt/qrmlabs/raw/master/Class%20Data%20Set%20Factored.csv")
str(ds$f.party.2)
getwd()
# set working directory
setwd("~/Methods Labs/qrmtextbook/new book")
# data
ds<-read.csv("Class Data Set.csv")
newdat<-read.csv("w1_w13_longdata.csv")
# load packages
library(car)
library(knitr)
library(lattice)
library(psych)
library(sm)
library(knitr)
library(scatterplot3d)
library(effects)
library(lmtest)
library(vcd)
library(stats)
library(formatR)
library(tidyverse)
library(reshape2)
library(lmtest)
# load packages
library(car)
library(knitr)
library(lattice)
library(psych)
library(sm)
library(knitr)
library(scatterplot3d)
library(effects)
library(lmtest)
library(vcd)
library(stats)
library(formatR)
library(tidyverse)
library(reshape2)
library(lmtest)
install.packages(c("formatR", "scatterplot3d"))
library(scatterplot3d)
library(effects)
library(lmtest)
library(vcd)
library(stats)
library(formatR)
library(tidyverse)
library(reshape2)
library(lmtest)
# compile and knit book
Sweave2knitr("stats_book_completeV3.Rnw")
knit("stats_book_completeV3.Rnw")
# compile and knit book
Sweave2knitr("stats_book_completeV3.Rnw")
# set working directory
setwd("~/Documents/qrmtextbook/new book")
getwd()
# set working directory
setwd("~/Documents/GitHub/qrmtextbook/new book")
# data
ds<-read.csv("Class Data Set.csv")
newdat<-read.csv("w1_w13_longdata.csv")
# data
ds<-read.csv("Class Data Set.csv")
newdat<-read.csv("w1_w13_longdata.csv")
# compile and knit book
Sweave2knitr("stats_book_completeV3.Rnw")
knit("stats_book_completeV3.Rnw")
getwd()
# set working directory
setwd("~/Documents/GitHub/qrmtextbook/new book")
# data
ds<-read.csv("Class Data Set.csv")
newdat<-read.csv("w1_w13_longdata.csv")
# load packages
library(car)
library(knitr)
library(lattice)
library(psych)
library(sm)
library(knitr)
library(scatterplot3d)
library(effects)
library(lmtest)
library(vcd)
library(stats)
library(formatR)
library(tidyverse)
library(reshape2)
library(lmtest)
# compile and knit book
Sweave2knitr("stats_book_completeV3.Rnw")
# compile and knit book
Sweave2knitr("stats_book_completeV3.Rnw")
knit("stats_book_completeV3.Rnw")
library(broom)
# compile and knit book
Sweave2knitr("stats_book_completeV3.Rnw")
knit("stats_book_completeV3.Rnw")
knitr::opts_chunk$set(echo = TRUE)
library(car)
library(car)
library(reshape2)
library(descr)
library(car)
library(reshape2)
library(descr)
library(psych)
library(tidyverse)
library(tidyverse)
library(skimr)
ds <- read_csv("https://github.com/ripberjt/qrmlabs/raw/master/Class%20Data%20Set%20Factored.csv")
table(ds$f.party.2)
str(ds$f.party.2)
table(ds$f.party.2)
ds <- read_csv("https://github.com/ripberjt/qrmlabs/raw/master/Class%20Data%20Set%20Factored.csv") %>% mutate_if(is.character, factor)
str(ds$f.party.2)
ds <- read_csv("https://github.com/ripberjt/qrmlabs/raw/master/Class%20Data%20Set%20Factored.csv") %>% mutate_if(is.character, factor)
table(ds$f.party.2)
str(ds$f.party.2)
table(ds$f.party.2)
str(ds$f.party.2)
mean(ds$f.party.2)
table(ds$f.party.2)
table(ds$party)
str(ds$f.gender)
ds$f.gender <- factor(ds$gender)
str(ds$f.gender)
str(ds$f.gender)
ds$f.gender <- factor(ds$gender)
table(ds$f.gender)
ds$f.gender <- factor(ds$gender)
table(ds$f.gender)
ds$f.gender <- factor(ds$gender, levels = c(0, 1),
labels = c("Women", "Men"))
table(ds$f.gender)
party
table(ds$party)
ds$f.party <- factor(ds$party, levels = c(1, 2, 3, 4),
labels = c("Dem", "Rep", "Ind", "Other"))
table(ds$f.party)
str(ds$f.party)
ds$n.party <- as.numeric(ds$f.party)
str(n.party)
str(ds$n.party)
str(ds$f.party.2)
ds$n.party <- as.numeric(ds$f.party.2)
str(ds$f.party.2)
ds$n.party <- as.numeric(ds$f.party.2)
str(ds$f.party.2)
str(ds$n.party)
ds$r.ideol <- car::recode(ds$ideol, "1:2 = 1; 3:5 = 2; 6:7 = 3;
else = NA; NA = NA")
table(ds$r.ideol, useNA = "always")
table(ds$ideol)
table(ds$r.ideol, useNA = "always")
ds$f.ideol <- factor(ds$r.ideol, levels = c(1,2,3), labels = c("Liberal", "Moderate", "Conservative"))
str(ds$f.ideol)
table(ds$f.ideol)
str(ds$f.ideol)
levels(ds$f.ideol)
table(ds$f.ideol)
levels(ds$f.ideol)
table(ds$f.ideol)
? car::recode
table(ds$ideol)
table(ds$r.ideol)
table(ds$f.ideol)
table(ds$r.ideol)
table(ds$race)
table(ds$race, useNA = TRUE)
table(ds$race, useNA = always)
table(ds$race, useNA = "always"")
table(ds$race, useNA = "always")
? table
table(ds$race, useNA = c("always"))
ds$r.race <- car::recode(ds$race, "1 = "Caucasian"; 2 = "African-American"; 3:7 = "Other";
ds$r.race <- car::recode(ds$race, "1 = 'Caucasian'; 2 = 'African-American'; 3:7 = 'Other';
else = NA; NA = NA")
table(ds$r.race)
table(ds$r.race)
table(ds$race, useNA = c("always"))
ds$r.race <- car::recode(ds$race, "1 = 'Caucasian'; 2 = 'African-American'; 3:7 = 'Other';
else = NA; NA = NA")
table(ds$r.race)
ds$r.AfAm <- car::recode(ds$r.race, "2 = 1; else = 0; NA = NA")
table(ds$r.AfAm)
ds$r.race <- car::recode(ds$race, "1 = 1; 2 = 2; 3:7 = 'Other';
else = NA; NA = NA")
ds$r.AfAm <- car::recode(ds$r.race, "2 = 1; else = 0; NA = NA")
table(ds$r.AfAm)
ds$f.AfAm <- factor(ds$r.AfAm, levels = c(0, 1),
labels = c("Non African-American", "African-American"))
table(ds$f.AfAm)
? rnorm
one <- rnorm(100, mean = 3)
two <- rnorm(100, mean = 7)
three <- rnorm(100, mean = 1)
summary(one)
summary(two)
four <- cbind(one, two, three)
View(four)
View(four)
five <- rbind(one, two, three)
View(five)
ds.men <- ds %>%
filter(gender == 1)
ds.men <- ds %>%
filter(gender == 1)
View(ds.men)
ds %>%
filter(gender == 0, age == 42)
tempVariable <- ds %>%
filter(gender == 0, age == 42)
ds.sub <- ds %>%
select(gender, age, income, education, ideol, glbcc_cert) %>%
na.omit()
ds %>%
filter(gender == 0, age == 42)
ds.sub <- ds %>%
select(gender, age, income, education, ideol, glbcc_cert) %>%
na.omit()
ds.sub
ds.sub %>%
filter(gender == 0, age == 42) %>%
arrange(education)
? arrange
ds.sub %>%
filter(gender == 0, age == 42) %>%
arrange(dsc(education))
ds.sub %>%
filter(gender == 0, age == 42) %>%
arrange(desc(education))
ds.sub %>%
slice(1:10)
ds.new <-
ds.new %>%
mutate(inc_100 = income / 1000)
ds.new <- ds.sub %>%
slice(1:10)
ds.new %>%
mutate(inc_100 = income / 1000)
ds.new$income
ds.sub$income
ds.new %>%
mutate(inc_100 = income / 1000)
ds.sub %>%
summarize(mean_inc = mean(income))
sd_inc
ds.sub %>%
filter(gender == 1) %>%
summarize(mean_inc = mean(income))
ds.sub %>%
filter(gender == 1) %>%
summarize(mean_inc = mean(income), med_inc = median(income), sd_inc = sd(income))
ds.sub %>%
group_by(gender) %>%
summarize(mean_inc = mean(income), med_inc = median(income), sd_inc = sd(income))
ds %>%
group_by(f.gender) %>%
summarize(mean_inc = mean(income), med_inc = median(income), sd_inc = sd(income))
ds %>%
filter(f.gender == 0, age == 42) %>%
arrange(desc(education)) %>% na.omit()
ds %>%
filter(f.gender == 0, age == 42) %>%
arrange(desc(education))
ds.sub %>%
group_by(f.gender) %>%
summarize(mean_inc = mean(income), med_inc = median(income), sd_inc = sd(income))
ds %>%
group_by(f.gender) %>%
summarize(mean_inc = mean(income), med_inc = median(income), sd_inc = sd(income))
ds %>%
group_by(f.gender) %>%
summarize(mean_inc = mean(income, na.rm=TRUE), med_inc = median(income, na.rm=TRUE), sd_inc = sd(income, na.rm=TRUE))
ds.sub %>%
group_by(ideol) %>%
summarize(mean_glbcc_cert = mean(glbcc_cert))
ds.sub %>%
group_by(gender, ideol) %>%
summarize(mean_glbcc_cert = mean(glbcc_cert))
ds.sub %>%
group_by(gender, ideol) %>%
summarize(mean_glbcc_cert = mean(glbcc_cert)) %>% print(n=Inf)
ds.sub %>%
group_by(gender, ideol) %>%
summarize(mean_glbcc_cert = mean(glbcc_cert)) %>% print(n=Inf)
ds.sub %>%
glimpse()
summary(ds.sub)
ds.sub %>%
glimpse()
str(ds.sub)
ds.sub %>%
glimpse()
str(ds.sub)
ds.sub %>%
glimpse()
ds.sub %>%
skim()
ds.sub %>%
group_by(gender) %>%
skim()
example <- c("fruit")
example
example = c("cake")
example
c("fruit") -> example
example
table(ds$f.party)
ds$f.party.2 <- car::recode(ds$f.party, "'Dem' = 'Dem'; 'Rep' = 'Rep'; 'Ind' = 'Ind';
'Other' = NA; else = NA; NA = NA")
table(ds$f.party.2)
ds %>%
count(f.party.2)
ds %>%
count(f.party.2, sort = TRUE)
ds %>%
count(f.party.2) %>%
mutate(percent = n / sum(n))
ds %>%
drop_na(f.party.2) %>%
count(f.party.2) %>%
mutate(percent = n / sum(n))
ggplot(ds, aes(f.party.2)) +
geom_bar()
ds %>%
drop_na(f.party.2) %>%
ggplot(., aes(f.party.2, fill = f.party.2)) +
geom_bar()
ds %>%
drop_na(f.party.2) %>%
ggplot(., aes(f.party.2, fill=f.party.2)) +
geom_bar() +
scale_fill_manual(values = c("blue", "green", "red"))
ds %>%
drop_na(f.party.2) %>%
ggplot(., aes(f.party.2, fill = f.party.2)) +
geom_bar() +
scale_fill_manual(values = c("blue", "green", "red")) +
ggtitle("Breakdown of Political Parties") +
xlab("Political Party") +
ylab("Count")
ds %>%
count(education)
ds$f.education <- factor(ds$education, levels=c(1, 2, 3, 4, 5, 6, 7, 8),
labels=c("< HS", "HS/GED", "Vocational/Technical",
"Some College", "2 year/Associates", "Bachelor's Degree",
"Master's degree", "PhD/JD/MD"))
ds %>%
count(f.education)
ds %>%
count(f.education, sort = TRUE)
ggplot(ds, aes(f.education)) +
geom_bar()
ggplot(ds, aes(f.education)) +
geom_bar() +
coord_flip()
ggplot(ds, aes(f.education, fill = f.education)) +
geom_bar() +
scale_fill_manual(values = c("#fbb4ae", "#b3cde3", "#ccebc5", "#decbe4",
"#fed9a6", "#ffffcc", "#e5d8bd", "#d3d3d3")) +
coord_flip()
describe(ds$age)
ds %>%
count(age, sort = TRUE)
ggplot(ds, aes(age)) +
geom_histogram()
ggplot(ds, aes(age)) +
geom_density()
ggplot(ds, aes(age)) +
geom_density(adjust = 3)
ggplot(ds, aes(x = "", y = age)) +
geom_boxplot()
View(ds)
ds %>% ggplot(., aes(income, age)) + geom_point()
ds %>% ggplot(., aes(age, income)) + geom_point()
ds %>%
filter(income < 500000) %>%
ggplot(., aes(age, income)) + geom_point()
options(scipen = 99999)
ds %>%
filter(income < 500000) %>%
ggplot(., aes(age, income)) + geom_point()
filter(inc_10 < 500) %>%
ggplot(., aes(age, income)) + geom_point()
ds %>%
mutate(inc_10 = income / 1000) %>%
filter(inc_10 < 500) %>%
ggplot(., aes(age, income)) + geom_point()
ds %>%
mutate(inc_10 = income / 1000) %>%
filter(inc_10 < 500) %>%
ggplot(., aes(age, inc_10)) + geom_point()
ds %>%
mutate(inc_10 = income / 1000) %>%
filter(inc_10 < 500) %>%
ggplot(., aes(age, inc_10)) + geom_point() + ylab("Income (in 1000s)")
ds %>%
mutate(inc_10 = income / 1000) %>%
filter(inc_10 < 500) %>%
ggplot(., aes(age, inc_10)) + geom_point() + ylab("Income (in 1000s USD)")
ds %>%
mutate(inc_10 = log(income)) %>%
ggplot(., aes(age, inc_10)) + geom_point()
ds %>%
mutate(inc_10 = log(income)) %>%
ggplot(., aes(age, inc_10)) + geom_point() + geom_smooth()
ds %>%
mutate(inc_10 = log(income)) %>%
ggplot(., aes(x=age, y=inc_10)) + geom_point() + geom_smooth()
ds %>%
mutate(inc_10 = log(income)) %>%
ggplot(., aes(age ~ inc_10)) + geom_point() + geom_smooth()
ds %>%
mutate(inc_10 = log(income)) %>%
ggplot(., aes(x=age ~inc_10)) + geom_point() + geom_smooth()
ds %>%
mutate(inc_10 = log(income)) %>%
ggplot(., aes(x=age, y=inc_10)) + geom_point() + geom_smooth()
ds %>%
mutate(inc_10 = log(income)) %>%
ggplot(., aes(x=age, y=inc_10)) + geom_point() + geom_smooth(method="lm")
median(c(1,2,2,3,4,6,9,10,11,12,12))
median(c(1,2,2,3,4,7,9,10,11,12,12))
mean(c(1,2,2,3,4,7,9,10,11,12,12))
sd(1,2,2,3,4,7,9,10,11,12)
sd(c(1,2,2,3,4,7,9,10,11,12))
sd(c(1,2,2,3,4,7,9,10,11,12,12))
# set working directory
setwd("~/Documents/GitHub/qrmtextbook/new book")
# data
ds<-read.csv("Class Data Set.csv")
newdat<-read.csv("w1_w13_longdata.csv")
# load packages
library(car)
library(knitr)
library(lattice)
library(psych)
library(sm)
library(knitr)
library(scatterplot3d)
library(effects)
library(lmtest)
library(vcd)
library(stats)
library(formatR)
library(tidyverse)
library(reshape2)
library(lmtest)
library(broom)
# compile and knit book
Sweave2knitr("stats_book_completeV3.Rnw")
knit("stats_book_completeV3.Rnw")
setwd("C:/Users/josie/OneDrive - University of Oklahoma/GitHub/qrmtextbook/new book/qrm_bookdown")
bookdown::render_book("qrmbook")
bookdown::render_book("qrmbook", bookdown::pdf_book())
setwd("C:/Users/josie/OneDrive - University of Oklahoma/GitHub/qrmlabs")
bookdown::render_book("labbook")
bookdown::render_book("labbook", bookdown::pdf_book())
